Ext.define("Ext.direct.JsonProvider",{extend:"Ext.direct.Provider",alias:"direct.jsonprovider",uses:["Ext.direct.ExceptionEvent","Ext.direct.Manager"],parseResponse:function(n){return Ext.isEmpty(n.responseText)?null:Ext.isObject(n.responseText)?n.responseText:Ext.decode(n.responseText)},createEvents:function(n){var r=this,t=null,u=[],f,i,e;try{t=r.parseResponse(n)}catch(o){return f=new Ext.direct.ExceptionEvent({data:o,xhr:n,code:Ext.direct.Manager.exceptions.PARSE,message:"Error parsing json response: \n\n "+o}),[f]}if(Ext.isArray(t))for(i=0,e=t.length;i<e;++i)u.push(r.createEvent(t[i]));else Ext.isObject(t)&&u.push(r.createEvent(t));return u},createEvent:function(n){return typeof n!="object"||!("type"in n)?new Ext.direct.ExceptionEvent({data:n,code:Ext.direct.Manager.exceptions.DATA,message:"Invalid data: event type is not specified"}):Ext.create("direct."+n.type,n)}})