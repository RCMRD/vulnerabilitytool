Ext.JSON=new function(){var n=this,i,r,u=null,f=!!{}.hasOwnProperty,e=function(){return u===null&&(u=Ext.USE_NATIVE_JSON&&window.JSON&&JSON.toString()=="[object JSON]"),u},t=function(n){return n<10?"0"+n:n},o=function(n){return eval("("+n+")")},s=function(n,t){return n===null||n===undefined?"null":Ext.isDate(n)?Ext.JSON.encodeDate(n):Ext.isString(n)?Ext.JSON.encodeString(n):typeof n=="number"?isFinite(n)?String(n):"null":Ext.isBoolean(n)?String(n):n.toJSON?n.toJSON():Ext.isArray(n)?y(n,t):Ext.isObject(n)?p(n,t):typeof n=="function"?"null":"undefined"},h={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","\x0b":"\\u000b"},c=/[\\\"\x00-\x1f\x7f-\uffff]/g,l=function(n){return'"'+n.replace(c,function(n){var t=h[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"'},a=function(n,t){for(var f=n.length,u=t+"   ",e=","+u,i=["[",u],r=0;r<f;r+=1)i.push(Ext.JSON.encodeValue(n[r],u),e);return i[i.length-1]=t+"]",i.join("")},v=function(n,t){var e=t+"   ",o=","+e,i=["{",e],r,u;for(r in n)if(u=n[r],!f||n.hasOwnProperty(r)){if(typeof u=="function"||u===undefined)continue;i.push(Ext.JSON.encodeValue(r)+": "+Ext.JSON.encodeValue(u,e),o)}return i[i.length-1]=t+"}",i.join("")},y=function(n,t){if(t)return a(n,t);for(var i=["[",""],u=n.length,r=0;r<u;r+=1)i.push(Ext.JSON.encodeValue(n[r]),",");return i[i.length-1]="]",i.join("")},p=function(n,t){if(t)return v(n,t);var i=["{",""],r,u;for(r in n)if(u=n[r],!f||n.hasOwnProperty(r)){if(typeof u=="function"||u===undefined)continue;i.push(Ext.JSON.encodeValue(r),":",Ext.JSON.encodeValue(u),",")}return i[i.length-1]="}",i.join("")};n.encodeString=l;n.encodeValue=s;n.encodeDate=function(n){return'"'+n.getFullYear()+"-"+t(n.getMonth()+1)+"-"+t(n.getDate())+"T"+t(n.getHours())+":"+t(n.getMinutes())+":"+t(n.getSeconds())+'"'};n.encode=function(t){return i||(i=e()?JSON.stringify:n.encodeValue),i(t)};n.decode=function(n,t){r||(r=e()?JSON.parse:o);try{return r(n)}catch(i){if(t===!0)return null;Ext.Error.raise({sourceClass:"Ext.JSON",sourceMethod:"decode",msg:"You're trying to decode an invalid JSON String: "+n})}}};Ext.encode=Ext.JSON.encode;Ext.decode=Ext.JSON.decode