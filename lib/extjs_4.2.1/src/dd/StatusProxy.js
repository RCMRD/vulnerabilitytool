Ext.define("Ext.dd.StatusProxy",{extend:"Ext.Component",animRepair:!1,childEls:["ghost"],renderTpl:['<div class="'+Ext.baseCSSPrefix+'dd-drop-icon"><\/div><div id="{id}-ghost" class="'+Ext.baseCSSPrefix+'dd-drag-ghost"><\/div>'],repairCls:Ext.baseCSSPrefix+"dd-drag-repair",constructor:function(n){var t=this;n=n||{};Ext.apply(t,{hideMode:"visibility",hidden:!0,floating:!0,id:t.id||Ext.id(),cls:Ext.baseCSSPrefix+"dd-drag-proxy "+this.dropNotAllowed,shadow:n.shadow||!1,renderTo:Ext.getDetachedBody()});t.callParent(arguments);this.dropStatus=this.dropNotAllowed},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",setStatus:function(n){n=n||this.dropNotAllowed;this.dropStatus!=n&&(this.el.replaceCls(this.dropStatus,n),this.dropStatus=n)},reset:function(n){var t=this,i=Ext.baseCSSPrefix+"dd-drag-proxy ";t.el.replaceCls(i+t.dropAllowed,i+t.dropNotAllowed);t.dropStatus=t.dropNotAllowed;n&&t.ghost.update("")},update:function(n){typeof n=="string"?this.ghost.update(n):(this.ghost.update(""),n.style.margin="0",this.ghost.dom.appendChild(n));var t=this.ghost.dom.firstChild;t&&Ext.fly(t).setStyle("float","none")},getGhost:function(){return this.ghost},hide:function(n){this.callParent();n&&this.reset(!0)},stop:function(){this.anim&&this.anim.isAnimated&&this.anim.isAnimated()&&this.anim.stop()},sync:function(){this.el.sync()},repair:function(n,t,i){var r=this;r.callback=t;r.scope=i;n&&r.animRepair!==!1?(r.el.addCls(r.repairCls),r.el.hideUnders(!0),r.anim=r.el.animate({duration:r.repairDuration||500,easing:"ease-out",to:{x:n[0],y:n[1]},stopAnimation:!0,callback:r.afterRepair,scope:r})):r.afterRepair()},afterRepair:function(){var n=this;n.hide(!0);n.el.removeCls(n.repairCls);typeof n.callback=="function"&&n.callback.call(n.scope||n);delete n.callback;delete n.scope}})