Ext.define("Ext.dd.Registry",{singleton:!0,constructor:function(){this.elements={};this.handles={};this.autoIdSeed=0},getId:function(n,t){if(typeof n=="string")return n;var i=n.id;return i||t===!1||(i="extdd-"+ ++this.autoIdSeed,n.id=i),i},register:function(n,t){if(t=t||{},typeof n=="string"&&(n=document.getElementById(n)),t.ddel=n,this.elements[this.getId(n)]=t,t.isHandle!==!1&&(this.handles[t.ddel.id]=t),t.handles)for(var r=t.handles,i=0,u=r.length;i<u;i++)this.handles[this.getId(r[i])]=t},unregister:function(n){var u=this.getId(n,!1),i=this.elements[u],r,t,f;if(i&&(delete this.elements[u],i.handles))for(r=i.handles,t=0,f=r.length;t<f;t++)delete this.handles[this.getId(r[t],!1)]},getHandle:function(n){return typeof n!="string"&&(n=n.id),this.handles[n]},getHandleFromEvent:function(n){var t=n.getTarget();return t?this.handles[t.id]:null},getTarget:function(n){return typeof n!="string"&&(n=n.id),this.elements[n]},getTargetFromEvent:function(n){var t=n.getTarget();return t?this.elements[t.id]||this.handles[t.id]:null}})