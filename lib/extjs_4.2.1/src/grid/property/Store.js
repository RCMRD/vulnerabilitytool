Ext.define("Ext.grid.property.Store",{extend:"Ext.data.Store",alternateClassName:"Ext.grid.PropertyStore",sortOnLoad:!1,uses:["Ext.data.reader.Reader","Ext.data.proxy.Proxy","Ext.data.ResultSet","Ext.grid.property.Property"],constructor:function(n,t){var i=this;i.grid=n;i.source=t;i.callParent([{data:t,model:Ext.grid.property.Property,proxy:i.getProxy()}])},getProxy:function(){return this.proxy||(Ext.grid.property.Store.prototype.proxy=new Ext.data.proxy.Memory({model:Ext.grid.property.Property,reader:this.getReader()})),this.proxy},getReader:function(){return this.reader||(Ext.grid.property.Store.prototype.reader=new Ext.data.reader.Reader({model:Ext.grid.property.Property,buildExtractors:Ext.emptyFn,read:function(n){return this.readRecords(n)},readRecords:function(n){var r,t,i={records:[],success:!0};for(t in n)n.hasOwnProperty(t)&&(r=n[t],this.isEditableValue(r)&&i.records.push(new Ext.grid.property.Property({name:t,value:r},t)));return i.total=i.count=i.records.length,new Ext.data.ResultSet(i)},isEditableValue:function(n){return Ext.isPrimitive(n)||Ext.isDate(n)||n===null}})),this.reader},setSource:function(n){var t=this;t.source=n;t.suspendEvents();t.removeAll();t.proxy.data=n;t.load();t.resumeEvents();t.fireEvent("datachanged",t);t.fireEvent("refresh",t)},getProperty:function(n){return Ext.isNumber(n)?this.getAt(n):this.getById(n)},setValue:function(n,t,i){var r=this,u=r.getRec(n);u?(u.set("value",t),r.source[n]=t):i&&(r.source[n]=t,u=new Ext.grid.property.Property({name:n,value:t},n),r.add(u))},remove:function(n){var t=this.getRec(n);t&&(this.callParent([t]),delete this.source[n])},getRec:function(n){return this.getById(n)},getSource:function(){return this.source}})