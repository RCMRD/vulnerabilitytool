Ext.define("Ext.grid.column.Action",{extend:"Ext.grid.column.Column",alias:["widget.actioncolumn"],alternateClassName:"Ext.grid.ActionColumn",actionIdRe:new RegExp(Ext.baseCSSPrefix+"action-col-(\\d+)"),altText:"",menuText:"<i>Actions<\/i>",sortable:!1,innerCls:Ext.baseCSSPrefix+"grid-cell-inner-action-col",constructor:function(n){var t=this,i=Ext.apply({},n),u=i.items||t.items||[t],f,r,e;for(t.origRenderer=i.renderer||t.renderer,t.origScope=i.scope||t.scope,t.renderer=t.scope=i.renderer=i.scope=null,i.items=null,t.callParent([i]),t.items=u,r=0,e=u.length;r<e;++r)if(u[r].getClass){f=!0;break}(t.origRenderer||f)&&(t.hasCustomRenderer=!0)},defaultRenderer:function(n,t,i,r,u,f,e){var s=this,l=Ext.baseCSSPrefix,c=s.origScope||s,p=s.items,w=p.length,h=0,o,a,v,y;for(a=Ext.isFunction(s.origRenderer)?s.origRenderer.apply(c,arguments)||"":"",t.tdCls+=" "+Ext.baseCSSPrefix+"action-col-cell";h<w;h++)o=p[h],v=o.disabled||(o.isDisabled?o.isDisabled.call(o.scope||c,e,r,u,o,i):!1),y=v?null:o.tooltip||(o.getTip?o.getTip.apply(o.scope||c,arguments):null),o.hasActionConfiguration||(o.stopSelection=s.stopSelection,o.disable=Ext.Function.bind(s.disableAction,s,[h],0),o.enable=Ext.Function.bind(s.enableAction,s,[h],0),o.hasActionConfiguration=!0),a+='<img role="button" alt="'+(o.altText||s.altText)+'" src="'+(o.icon||Ext.BLANK_IMAGE_URL)+'" class="'+l+"action-col-icon "+l+"action-col-"+String(h)+" "+(v?l+"item-disabled":" ")+" "+(Ext.isFunction(o.getClass)?o.getClass.apply(o.scope||c,arguments):o.iconCls||s.iconCls||"")+'"'+(y?' data-qtip="'+y+'"':"")+" />";return a},enableAction:function(n,t){var i=this;n?Ext.isNumber(n)||(n=Ext.Array.indexOf(i.items,n)):n=0;i.items[n].disabled=!1;i.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+n).removeCls(i.disabledCls);t||i.fireEvent("enable",i)},disableAction:function(n,t){var i=this;n?Ext.isNumber(n)||(n=Ext.Array.indexOf(i.items,n)):n=0;i.items[n].disabled=!0;i.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+n).addCls(i.disabledCls);t||i.fireEvent("disable",i)},destroy:function(){return delete this.items,delete this.renderer,this.callParent(arguments)},processEvent:function(n,t,i,r,u,f,e,o){var h=this,c=f.getTarget(),v,s,l,a=n=="keydown"&&f.getKey(),y;if(a&&!Ext.fly(c).findParent(t.getCellSelector())&&(c=Ext.fly(i).down("."+Ext.baseCSSPrefix+"action-col-icon",!0)),c&&(v=c.className.match(h.actionIdRe))&&(s=h.items[parseInt(v[1],10)],y=s.disabled||(s.isDisabled?s.isDisabled.call(s.scope||h.origScope||h,t,r,u,s,e):!1),s&&!y))if(n=="click"||a==f.ENTER||a==f.SPACE)l=s.handler||h.handler,l&&l.call(s.scope||h.origScope||h,t,r,u,s,f,e,o);else if(n=="mousedown"&&s.stopSelection!==!1)return!1;return h.callParent(arguments)},cascade:function(n,t){n.call(t||this,this)},getRefItems:function(){return[]}})