Ext.define("Ext.dom.Element_fx",{override:"Ext.dom.Element"},function(){var n=Ext.dom.Element,r="visibility",t="display",i="none",u="hidden",h="offsets",c="asclass",l="nosize",f="originalDisplay",e="visibilityMode",a="isVisible",v=Ext.baseCSSPrefix+"hide-offsets",o=function(n){var i=(n.$cache||n.getCache()).data,t=i[f];return t===undefined&&(i[f]=t=""),t},s=function(t){var r=(t.$cache||t.getCache()).data,i=r[e];return i===undefined&&(r[e]=i=n.VISIBILITY),i};n.override({originalDisplay:"",visibilityMode:1,setVisible:function(i,f){var e=this,y=e.dom,o=s(e);if(typeof f=="string"){switch(f){case t:o=n.DISPLAY;break;case r:o=n.VISIBILITY;break;case h:o=n.OFFSETS;break;case l:case c:o=n.ASCLASS}e.setVisibilityMode(o);f=!1}if(f&&e.anim)i&&(e.setOpacity(.01),e.setVisible(!0)),Ext.isObject(f)||(f={duration:350,easing:"ease-in"}),e.animate(Ext.applyIf({callback:function(){i||Ext.fly(y,"_internal").setVisible(!1).setOpacity(1)},to:{opacity:i?1:0}},f));else{if(o==n.DISPLAY)return e.setDisplayed(i);o==n.OFFSETS?e[i?"removeCls":"addCls"](v):o==n.VISIBILITY?(e.fixDisplay(),y.style.visibility=i?"":u):o==n.ASCLASS&&e[i?"removeCls":"addCls"](e.visibilityCls||n.visibilityCls)}return(e.$cache||e.getCache()).data[a]=i,e},hasMetrics:function(){var t=s(this);return this.isVisible()||t==n.OFFSETS||t==n.VISIBILITY},toggle:function(n){var t=this;return t.setVisible(!t.isVisible(),t.anim(n)),t},setDisplayed:function(n){return typeof n=="boolean"&&(n=n?o(this):i),this.setStyle(t,n),this},fixDisplay:function(){var n=this;n.isStyle(t,i)&&(n.setStyle(r,u),n.setStyle(t,o(n)),n.isStyle(t,i)&&n.setStyle(t,"block"))},hide:function(n){return typeof n=="string"?(this.setVisible(!1,n),this):(this.setVisible(!1,this.anim(n)),this)},show:function(n){return typeof n=="string"?(this.setVisible(!0,n),this):(this.setVisible(!0,this.anim(n)),this)}})})