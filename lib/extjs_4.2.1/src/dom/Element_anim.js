Ext.define("Ext.dom.Element_anim",{override:"Ext.dom.Element",animate:function(n){var t=this,i,r,u=t.dom.id||Ext.id(t.dom);if(!Ext.fx.Manager.hasFxBlock(u)){if(n.listeners&&(i=n.listeners,delete n.listeners),n.internalListeners&&(n.listeners=n.internalListeners,delete n.internalListeners),r=new Ext.fx.Anim(t.anim(n)),i)r.on(i);Ext.fx.Manager.queueFx(r)}return t},anim:function(n){if(!Ext.isObject(n))return n?{}:!1;var i=this,r=n.duration||Ext.fx.Anim.prototype.duration,u=n.easing||"ease",t;return n.stopAnimation&&i.stopAnimation(),Ext.applyIf(n,Ext.fx.Manager.getFxDefaults(i.id)),Ext.fx.Manager.setFxDefaults(i.id,{delay:0}),t={target:i.dom,remove:n.remove,alternate:n.alternate||!1,duration:r,easing:u,callback:n.callback,listeners:n.listeners,iterations:n.iterations||1,scope:n.scope,block:n.block,concurrent:n.concurrent,delay:n.delay||0,paused:!0,keyframes:n.keyframes,from:n.from||{},to:Ext.apply({},n)},Ext.apply(t.to,n.to),delete t.to.to,delete t.to.from,delete t.to.remove,delete t.to.alternate,delete t.to.keyframes,delete t.to.iterations,delete t.to.listeners,delete t.to.target,delete t.to.paused,delete t.to.callback,delete t.to.scope,delete t.to.duration,delete t.to.easing,delete t.to.concurrent,delete t.to.block,delete t.to.stopAnimation,delete t.to.delay,t},slideIn:function(n,t,i){var r=this,f=r.dom,o=f.style,s,u,e,h;return n=n||"t",t=t||{},s=function(){var p=this,v=t.listeners,a=Ext.fly(f,"_anim"),s,y,l,c;i||a.fixDisplay();s=a.getBox();(n=="t"||n=="b")&&s.height===0?s.height=f.scrollHeight:(n=="l"||n=="r")&&s.width===0&&(s.width=f.scrollWidth);y=a.getStyles("width","height","left","right","top","bottom","position","z-index",!0);a.setSize(s.width,s.height);t.preserveScroll&&(e=a.cacheScrollValues());c=a.wrap({id:Ext.id()+"-anim-wrap-for-"+a.dom.id,style:{visibility:i?"visible":"hidden"}});h=c.dom.parentNode;c.setPositioning(a.getPositioning(!0));c.isStyle("position","static")&&c.position("relative");a.clearPositioning("auto");c.clip();e&&e();a.setStyle({visibility:"",position:"absolute"});i&&c.setSize(s.width,s.height);switch(n){case"t":l={from:{width:s.width+"px",height:"0px"},to:{width:s.width+"px",height:s.height+"px"}};o.bottom="0px";break;case"l":l={from:{width:"0px",height:s.height+"px"},to:{width:s.width+"px",height:s.height+"px"}};r.anchorAnimX(n);break;case"r":l={from:{x:s.x+s.width,width:"0px",height:s.height+"px"},to:{x:s.x,width:s.width+"px",height:s.height+"px"}};r.anchorAnimX(n);break;case"b":l={from:{y:s.y+s.height,width:s.width+"px",height:"0px"},to:{y:s.y,width:s.width+"px",height:s.height+"px"}};break;case"tl":l={from:{x:s.x,y:s.y,width:"0px",height:"0px"},to:{width:s.width+"px",height:s.height+"px"}};o.bottom="0px";r.anchorAnimX("l");break;case"bl":l={from:{y:s.y+s.height,width:"0px",height:"0px"},to:{y:s.y,width:s.width+"px",height:s.height+"px"}};r.anchorAnimX("l");break;case"br":l={from:{x:s.x+s.width,y:s.y+s.height,width:"0px",height:"0px"},to:{x:s.x,y:s.y,width:s.width+"px",height:s.height+"px"}};r.anchorAnimX("r");break;case"tr":l={from:{x:s.x+s.width,width:"0px",height:"0px"},to:{x:s.x,width:s.width+"px",height:s.height+"px"}};o.bottom="0px";r.anchorAnimX("r")}c.show();u=Ext.apply({},t);delete u.listeners;u=new Ext.fx.Anim(Ext.applyIf(u,{target:c,duration:500,easing:"ease-out",from:i?l.to:l.from,to:i?l.from:l.to}));u.on("afteranimate",function(){var n=Ext.fly(f,"_anim");n.setStyle(y);i&&(t.useDisplay?n.setDisplayed(!1):n.hide());c.dom&&(c.dom.parentNode?c.dom.parentNode.insertBefore(n.dom,c.dom):h.appendChild(n.dom),c.remove());e&&e();p.end()});if(v)u.on(v)},r.animate({duration:t.duration?Math.max(t.duration,500)*2:1e3,listeners:{beforeanimate:s}}),r},slideOut:function(n,t){return this.slideIn(n,t,!0)},puff:function(n){var i=this,r=i.dom,u,t=i.getBox(),f=i.getStyles("width","height","left","right","top","bottom","position","z-index","font-size","opacity",!0);return n=Ext.applyIf(n||{},{easing:"ease-out",duration:500,useDisplay:!1}),u=function(){var i=Ext.fly(r,"_anim");i.clearOpacity();i.show();this.to={width:t.width*2,height:t.height*2,x:t.x-t.width/2,y:t.y-t.height/2,opacity:0,fontSize:"200%"};this.on("afteranimate",function(){var t=Ext.fly(r,"_anim");t&&(n.useDisplay?t.setDisplayed(!1):t.hide(),t.setStyle(f),Ext.callback(n.callback,n.scope))})},i.animate({duration:n.duration,easing:n.easing,listeners:{beforeanimate:{fn:u}}}),i},switchOff:function(n){var t=this,i=t.dom,r;return n=Ext.applyIf(n||{},{easing:"ease-in",duration:500,remove:!1,useDisplay:!1}),r=function(){var t=Ext.fly(i,"_anim"),o=this,r=t.getSize(),u=t.getXY(),f,e;t.clearOpacity();t.clip();e=t.getPositioning();f=new Ext.fx.Animator({target:i,duration:n.duration,easing:n.easing,keyframes:{33:{opacity:.3},66:{height:1,y:u[1]+r.height/2},100:{width:1,x:u[0]+r.width/2}}});f.on("afteranimate",function(){var t=Ext.fly(i,"_anim");n.useDisplay?t.setDisplayed(!1):t.hide();t.clearOpacity();t.setPositioning(e);t.setSize(r);o.end()})},t.animate({duration:Math.max(n.duration,500)*2,listeners:{beforeanimate:{fn:r}},callback:n.callback,scope:n.scope}),t},frame:function(n,t,i){var r=this,f=r.dom,u;return n=n||"#C3DAF9",t=t||1,i=i||{},u=function(){var u=Ext.fly(f,"_anim"),s=this,r,e,o;u.show();r=u.getBox();e=Ext.getBody().createChild({id:u.dom.id+"-anim-proxy",style:{position:"absolute","pointer-events":"none","z-index":35e3,border:"0px solid "+n}});o=new Ext.fx.Anim({target:e,duration:i.duration||1e3,iterations:t,from:{top:r.y,left:r.x,borderWidth:0,opacity:1,height:r.height,width:r.width},to:{top:r.y-20,left:r.x-20,borderWidth:10,opacity:0,height:r.height+40,width:r.width+40}});o.on("afteranimate",function(){e.remove();s.end()})},r.animate({duration:Math.max(i.duration,500)*2||2e3,listeners:{beforeanimate:{fn:u}},callback:i.callback,scope:i.scope}),r},ghost:function(n,t){var i=this,r=i.dom,u;return n=n||"b",u=function(){var e=Ext.fly(r,"_anim"),u=e.getWidth(),f=e.getHeight(),i=e.getXY(),o=e.getPositioning(),t={opacity:0};switch(n){case"t":t.y=i[1]-f;break;case"l":t.x=i[0]-u;break;case"r":t.x=i[0]+u;break;case"b":t.y=i[1]+f;break;case"tl":t.x=i[0]-u;t.y=i[1]-f;break;case"bl":t.x=i[0]-u;t.y=i[1]+f;break;case"br":t.x=i[0]+u;t.y=i[1]+f;break;case"tr":t.x=i[0]+u;t.y=i[1]-f}this.to=t;this.on("afteranimate",function(){var n=Ext.fly(r,"_anim");n&&(n.hide(),n.clearOpacity(),n.setPositioning(o))})},i.animate(Ext.applyIf(t||{},{duration:500,easing:"ease-out",listeners:{beforeanimate:u}})),i},highlight:function(n,t){var r=this,e=r.dom,h={},c,o,u,f,i,s;return e.tagName.match(r.tableTagRe)?r.select("div").highlight(n,t):(t=t||{},f=t.listeners||{},u=t.attr||"backgroundColor",h[u]=n||"ffff9c",t.to?o=t.to:(o={},o[u]=t.endColor||r.getColor(u,"ffffff","")),t.listeners=Ext.apply(Ext.apply({},f),{beforeanimate:function(){c=e.style[u];var n=Ext.fly(e,"_anim");return n.clearOpacity(),n.show(),i=f.beforeanimate,i?(s=i.fn||i,s.apply(i.scope||f.scope||window,arguments)):void 0},afteranimate:function(){e&&(e.style[u]=c);i=f.afteranimate;i&&(s=i.fn||i,s.apply(i.scope||f.scope||window,arguments))}}),r.animate(Ext.apply({},t,{duration:1e3,easing:"ease-in",from:h,to:o})),r)},pause:function(n){var t=this;return Ext.fx.Manager.setFxDefaults(t.id,{delay:n}),t},fadeIn:function(n){var t=this,i=t.dom;return t.animate(Ext.apply({},n,{opacity:1,internalListeners:{beforeanimate:function(){var n=Ext.fly(i,"_anim");n.isStyle("display","none")?n.setDisplayed(""):n.show()}}})),this},fadeOut:function(n){var t=this,i=t.dom;return n=Ext.apply({opacity:0,internalListeners:{afteranimate:function(t){if(i&&t.to.opacity===0){var r=Ext.fly(i,"_anim");n.useDisplay?r.setDisplayed(!1):r.hide()}}}},n),t.animate(n),t},scale:function(n,t,i){return this.animate(Ext.apply({},i,{width:n,height:t})),this},shift:function(n){return this.animate(n),this},anchorAnimX:function(n){var t=n==="l"?"right":"left";this.dom.style[t]="0px"}})