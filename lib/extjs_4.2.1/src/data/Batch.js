Ext.define("Ext.data.Batch",{mixins:{observable:"Ext.util.Observable"},autoStart:!1,pauseOnException:!1,current:-1,total:0,isRunning:!1,isComplete:!1,hasException:!1,constructor:function(n){var t=this;t.mixins.observable.constructor.call(t,n);t.operations=[];t.exceptions=[]},add:function(n){return this.total++,n.setBatch(this),this.operations.push(n),this},start:function(n){var t=this;return t.isRunning?t:(t.exceptions.length=0,t.hasException=!1,t.isRunning=!0,t.runOperation(Ext.isDefined(n)?n:t.current+1))},retry:function(){return this.start(this.current)},runNextOperation:function(){return this.runOperation(this.current+1)},pause:function(){return this.isRunning=!1,this},runOperation:function(n){var t=this,r=t.operations,i=r[n],u;return i===undefined?(t.isRunning=!1,t.isComplete=!0,t.fireEvent("complete",t,r[r.length-1])):(t.current=n,u=function(n){var i=n.hasException();i&&(t.hasException=!0,t.exceptions.push(n),t.fireEvent("exception",t,n));i&&t.pauseOnException?t.pause():(n.setCompleted(),t.fireEvent("operationcomplete",t,n),t.runNextOperation())},i.setStarted(),t.proxy[i.action](i,u,t)),t}})