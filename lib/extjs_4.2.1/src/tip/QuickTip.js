Ext.define("Ext.tip.QuickTip",{extend:"Ext.tip.ToolTip",alias:"widget.quicktip",alternateClassName:"Ext.QuickTip",interceptTitles:!1,title:"&#160;",tagConfig:{namespace:"data-",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor",showDelay:"qshowDelay"},initComponent:function(){var n=this;n.target=n.target||Ext.getDoc();n.targets=n.targets||{};n.callParent()},register:function(n){for(var u=Ext.isArray(n)?n:arguments,r=0,e=u.length,t,i,f;r<e;r++)if(n=u[r],t=n.target,t)if(Ext.isArray(t))for(i=0,f=t.length;i<f;i++)this.targets[Ext.id(t[i])]=n;else this.targets[Ext.id(t)]=n},unregister:function(n){delete this.targets[Ext.id(n)]},cancelShow:function(n){var t=this,i=t.activeTarget;n=Ext.get(n).dom;t.isVisible()?i&&i.el==n&&t.hide():i&&i.el==n&&t.clearTimer("show")},getTipCfg:function(n){var t=n.getTarget(),r=t.title,i;return this.interceptTitles&&r&&Ext.isString(r)?(t.qtip=r,t.removeAttribute("title"),n.preventDefault(),{text:r}):(i=this.tagConfig,t=n.getTarget("["+i.namespace+i.attribute+"]"),t)?{target:t,text:t.getAttribute(i.namespace+i.attribute)}:void 0},onTargetOver:function(n){var t=this,i=n.getTarget(t.delegate),f,h,r,u,e,o,l,c,s,v,a;if(!t.disabled&&(t.targetXY=n.getXY(),i&&i.nodeType===1&&i!=document.documentElement&&i!=document.body)){if(t.activeTarget&&(i==t.activeTarget.el||Ext.fly(t.activeTarget.el).contains(i))){t.targetTextEmpty()?(t.onShowVeto(),delete t.activeTarget):(t.clearTimer("hide"),t.show());return}if(i){c=t.targets;for(a in c)if(c.hasOwnProperty(a)&&(v=c[a],s=Ext.fly(v.target),s&&(s.dom===i||s.contains(i)))){r=s.dom;break}if(r){t.activeTarget=t.targets[r.id];t.activeTarget.el=i;t.anchor=t.activeTarget.anchor;t.anchor&&(t.anchorTarget=i);f=parseInt(t.activeTarget.showDelay,10);f&&(h=t.showDelay,t.showDelay=f);t.delayShow();f&&(t.showDelay=h);return}}r=Ext.fly(i,"_quicktip-target");u=t.tagConfig;e=u.namespace;o=t.getTipCfg(n);o&&(o.target&&(i=o.target,r=Ext.fly(i,"_quicktip-target")),l=r.getAttribute(e+u.hide),t.activeTarget={el:i,text:o.text,width:+r.getAttribute(e+u.width)||null,autoHide:l!="user"&&l!=="false",title:r.getAttribute(e+u.title),cls:r.getAttribute(e+u.cls),align:r.getAttribute(e+u.align),showDelay:parseInt(r.getAttribute(e+u.showDelay),10)},t.anchor=r.getAttribute(e+u.anchor),t.anchor&&(t.anchorTarget=i),f=parseInt(t.activeTarget.showDelay,10),f&&(h=t.showDelay,t.showDelay=f),t.delayShow(),f&&(t.showDelay=h))}},onTargetOut:function(n){var t=this,r=t.activeTarget,i,u;r&&n.within(t.activeTarget.el)&&!t.getTipCfg(n)||(t.clearTimer("show"),delete t.activeTarget,t.autoHide!==!1&&(i=r&&parseInt(r.hideDelay,10),i&&(u=t.hideDelay,t.hideDelay=i),t.delayHide(),i&&(t.hideDelay=u)))},targetTextEmpty:function(){var n=this,t=n.activeTarget,r=n.tagConfig,i,u;return t&&(i=t.el,i&&(u=i.getAttribute(r.namespace+r.attribute),!u&&!n.targets[t.target]))?!0:!1},show:function(){var n=this,t=n.fromDelayShow;if(t&&n.targetTextEmpty()){n.onShowVeto();delete n.activeTarget;return}n.callParent(arguments)},showAt:function(n){var t=this,i=t.activeTarget,u=t.header,r;i&&(t.rendered||(t.render(Ext.getBody()),t.activeTarget=i),t.suspendLayouts(),i.title?(t.setTitle(i.title),u.show()):u&&u.hide(),t.update(i.text),t.autoHide=i.autoHide,t.dismissDelay=i.dismissDelay||t.dismissDelay,i.mouseOffset&&(n[0]+=i.mouseOffset[0],n[1]+=i.mouseOffset[1]),r=t.lastCls,r&&(t.removeCls(r),delete t.lastCls),r=i.cls,r&&(t.addCls(r),t.lastCls=r),t.setWidth(i.width),t.anchor?t.constrainPosition=!1:i.align?(n=t.getAlignToXY(i.el,i.align),t.constrainPosition=!1):t.constrainPosition=!0,t.resumeLayouts(!0));t.callParent([n])},hide:function(){delete this.activeTarget;this.callParent()}})