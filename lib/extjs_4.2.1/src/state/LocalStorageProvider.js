Ext.define("Ext.state.LocalStorageProvider",{extend:"Ext.state.Provider",alias:"state.localstorage",constructor:function(){var n=this;n.callParent(arguments);n.store=n.getStorageObject();n.state=n.store?n.readLocalStorage():{}},readLocalStorage:function(){for(var t=this.store,i=0,e=t.length,r=this.prefix,u=r.length,f={},n;i<e;++i)n=t.key(i),n.substring(0,u)==r&&(f[n.substr(u)]=this.decodeValue(t.getItem(n)));return f},set:function(n,t){var i=this;(i.clear(n),typeof t!="undefined"&&t!==null)&&(i.store.setItem(i.prefix+n,i.encodeValue(t)),i.callParent(arguments))},clear:function(n){this.store.removeItem(this.prefix+n);this.callParent(arguments)},getStorageObject:function(){return Ext.supports.LocalStorage?window.localStorage:(Ext.Error.raise("LocalStorage is not supported by the current browser"),!1)}})