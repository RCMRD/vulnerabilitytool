Ext.define("Ext.fx.Queue",{requires:["Ext.util.HashMap"],constructor:function(){this.targets=new Ext.util.HashMap;this.fxQueue={}},getFxDefaults:function(n){var t=this.targets.get(n);return t?t.fxDefaults:{}},setFxDefaults:function(n,t){var i=this.targets.get(n);i&&(i.fxDefaults=Ext.apply(i.fxDefaults||{},t))},stopAnimation:function(n){for(var r=this,i=r.getFxQueue(n),t=i.length;t;)i[t-1].end(),t--},getActiveAnimation:function(n){var t=this.getFxQueue(n);return t&&!!t.length?t[0]:!1},hasFxBlock:function(n){var t=this.getFxQueue(n);return t&&t[0]&&t[0].block},getFxQueue:function(n){if(!n)return!1;var t=this,r=t.fxQueue[n],i=t.targets.get(n);if(!i)return!1;if(!r&&(t.fxQueue[n]=[],i.type!="element"))i.target.on("destroy",function(){t.fxQueue[n]=[]});return t.fxQueue[n]},queueFx:function(n){var r=this,i=n.target,t,u;if(i){if(t=r.getFxQueue(i.getId()),u=t.length,u)if(n.concurrent)n.paused=!1;else t[u-1].on("afteranimate",function(){n.paused=!1});else n.paused=!1;n.on("afteranimate",function(){if(Ext.Array.remove(t,n),t.length===0&&r.targets.remove(n.target),n.remove&&i.type=="element"){var u=Ext.get(i.id);u&&u.remove()}},r,{single:!0});t.push(n)}}})