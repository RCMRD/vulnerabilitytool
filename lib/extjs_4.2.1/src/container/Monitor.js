Ext.define("Ext.container.Monitor",{target:null,selector:"",scope:null,addHandler:null,removeHandler:null,disabled:0,constructor:function(n){Ext.apply(this,n)},bind:function(n){var t=this;t.target=n;n.on("beforedestroy",t.disable,t);t.onContainerAdd(n)},unbind:function(){var n=this,t=n.target;t&&t.un("beforedestroy",n.disable,n);n.items=null},disable:function(){++this.disabled},enable:function(){this.disabled>0&&--this.disabled},handleAdd:function(n,t){if(!this.disabled){if(t.is(this.selector))this.onItemAdd(t.ownerCt,t);if(t.isQueryable)this.onContainerAdd(t)}},onItemAdd:function(n,t){var i=this,r=i.items,u=i.addHandler;i.disabled||(u&&u.call(i.scope||t,t),r&&r.add(t))},onItemRemove:function(n,t){var i=this,r=i.items,u=i.removeHandler;i.disabled||(u&&u.call(i.scope||t,t),r&&r.remove(t))},onContainerAdd:function(n,t){var i=this,u,f,o=i.handleAdd,s=i.handleRemove,r,e;if(n.isContainer){n.on("add",o,i);n.on("dockedadd",o,i);n.on("remove",s,i);n.on("dockedremove",s,i)}if(t!==!0)for(u=n.query(i.selector),r=0,f=u.length;r<f;++r){e=u[r];i.onItemAdd(e.ownerCt,e)}for(u=n.query("container"),r=0,f=u.length;r<f;++r)i.onContainerAdd(u[r],!0)},handleRemove:function(n,t){var i=this;if(!i.disabled){if(t.is(i.selector))i.onItemRemove(n,t);if(t.isQueryable)i.onContainerRemove(n,t)}},onContainerRemove:function(n,t){var u=this,r,i,f,e;if(t.isDestroyed||t.destroying||!t.isContainer)u.invalidateItems();else{for(u.removeCtListeners(t),r=t.query(u.selector),i=0,f=r.length;i<f;++i){e=r[i];u.onItemRemove(e.ownerCt,e)}for(r=t.query("container"),i=0,f=r.length;i<f;++i)u.removeCtListeners(r[i])}},removeCtListeners:function(n){var t=this;n.un("add",t.handleAdd,t);n.un("dockedadd",t.handleAdd,t);n.un("remove",t.handleRemove,t);n.un("dockedremove",t.handleRemove,t)},getItems:function(){var n=this,t=n.items;return t||(t=n.items=new Ext.util.MixedCollection,t.addAll(n.target.query(n.selector))),t},invalidateItems:function(){this.items=null}})