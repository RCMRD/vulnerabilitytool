Ext.define("Ext.chart.axis.Radial",{extend:"Ext.chart.axis.Numeric",position:"radial",alias:"axis.radial",drawAxis:function(){var h=this.chart,a=h.surface,t=h.chartBBox,p=h.getChartStore(),i=p.getCount(),r=t.x+t.width/2,u=t.y+t.height/2,f=Math.min(t.width,t.height)/2,e=[],o,c=this.steps,n,s,l=Math.PI*2,v=Math.cos,y=Math.sin;if(this.sprites&&!h.resizing){this.drawLabel();return}if(this.sprites){for(e=this.sprites,n=0;n<c;n++)e[n].setAttributes({x:r,y:u,radius:Math.max(f*(n+1)/c,0),stroke:"#ccc"},!0);for(s=0;s<i;s++)e[n+s].setAttributes({path:["M",r,u,"L",r+f*v(s/i*l),u+f*y(s/i*l),"Z"],stroke:"#ccc"},!0)}else{for(n=1;n<=c;n++)o=a.add({type:"circle",x:r,y:u,radius:Math.max(f*n/c,0),stroke:"#ccc"}),o.setAttributes({hidden:!1},!0),e.push(o);for(n=0;n<i;n++)o=a.add({type:"path",path:["M",r,u,"L",r+f*v(n/i*l),u+f*y(n/i*l),"Z"],stroke:"#ccc"}),o.setAttributes({hidden:!1},!0),e.push(o)}this.sprites=e;this.drawLabel()},drawLabel:function(){var c=this.chart,nt=c.series.items,k,tt=c.surface,f=c.chartBBox,st=c.getChartStore(),it=st.data.items,l,d,a=f.x+f.width/2,v=f.y+f.height/2,e=Math.min(f.width,f.height)/2,ht=Math.max,rt=Math.round,u=[],o,g=[],ut,s=[],ft,ct=!this.maximum,y=this.maximum||0,i=this.steps,n=0,t,r,p,w=Math.PI*2,et=Math.cos,ot=Math.sin,h=this.label.display,lt=h!=="none",b=10;if(lt){for(n=0,l=nt.length;n<l;n++)k=nt[n],g.push(k.yField),ft=k.xField;for(t=0,l=it.length;t<l;t++)if(d=it[t],s.push(d.get(ft)),ct)for(n=0,ut=g.length;n<ut;n++)y=ht(+d.get(g[n]),y);if(this.labelArray){if(u=this.labelArray,h!="categories")for(n=0;n<i;n++)u[n].setAttributes({text:rt((n+1)/i*y),x:a,y:v-e*(n+1)/i,"text-anchor":"middle","stroke-width":.1,stroke:"#333"},!0);if(h!="scale")for(t=0,i=s.length;t<i;t++)r=et(t/i*w)*(e+b),p=ot(t/i*w)*(e+b),u[n+t]&&u[n+t].setAttributes({type:"text",text:s[t],x:a+r,y:v+p,"text-anchor":r*r<=.001?"middle":r<0?"end":"start"},!0)}else{if(h!="categories")for(n=1;n<=i;n++)o=tt.add({type:"text",text:rt(n/i*y),x:a,y:v-e*n/i,"text-anchor":"middle","stroke-width":.1,stroke:"#333"}),o.setAttributes({hidden:!1},!0),u.push(o);if(h!="scale")for(t=0,i=s.length;t<i;t++)r=et(t/i*w)*(e+b),p=ot(t/i*w)*(e+b),o=tt.add({type:"text",text:s[t],x:a+r,y:v+p,"text-anchor":r*r<=.001?"middle":r<0?"end":"start"}),o.setAttributes({hidden:!1},!0),u.push(o)}this.labelArray=u}},getRange:function(){var n=this.callParent();return n.min=0,n},processView:function(){for(var n=this,r=n.chart.series.items,f,i,e=[],t=0,u=r.length;t<u;t++)f=r[t],e.push(f.yField);n.fields=e;i=n.calcEnds();n.maximum=i.to;n.steps=i.steps}})