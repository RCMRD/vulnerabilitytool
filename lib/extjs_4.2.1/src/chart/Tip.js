Ext.define("Ext.chart.Tip",{requires:["Ext.tip.ToolTip","Ext.chart.TipSurface"],constructor:function(n){var t=this,i,u,r;if(n.tips){t.tipTimeout=null;t.tipConfig=Ext.apply({},n.tips,{renderer:Ext.emptyFn,constrainPosition:!0,autoHide:!0});t.tooltip=new Ext.tip.ToolTip(t.tipConfig);t.chart.surface.on("mousemove",t.tooltip.onMouseMove,t.tooltip);t.chart.surface.on("mouseleave",function(){t.hideTip()});t.tipConfig.surface&&(i=t.tipConfig.surface,u=i.sprites,r=new Ext.chart.TipSurface({id:"tipSurfaceComponent",sprites:u}),i.width&&i.height&&r.setSize(i.width,i.height),t.tooltip.add(r),t.spriteTip=r)}},showTip:function(n){var r=this,t,u,f,e,i,h,o,s,c,l;r.tooltip&&(clearTimeout(r.tipTimeout),t=r.tooltip,u=r.spriteTip,f=r.tipConfig,e=t.trackMouse,e||(t.trackMouse=!0,i=n.sprite,h=i.surface,o=Ext.get(h.getId()),o&&(s=o.getXY(),c=s[0]+(i.attr.x||0)+(i.attr.translation&&i.attr.translation.x||0),l=s[1]+(i.attr.y||0)+(i.attr.translation&&i.attr.translation.y||0),t.targetXY=[c,l])),u?f.renderer.call(t,n.storeItem,n,u.surface):f.renderer.call(t,n.storeItem,n),t.show(),t.trackMouse=e)},hideTip:function(){var n=this.tooltip;n&&(clearTimeout(this.tipTimeout),this.tipTimeout=setTimeout(function(){n.hide()},0))}})