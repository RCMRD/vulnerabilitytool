Ext.define("Ext.AbstractManager",{requires:["Ext.util.HashMap"],typeName:"type",constructor:function(n){Ext.apply(this,n||{});this.all=new Ext.util.HashMap;this.types={}},get:function(n){return this.all.get(n)},register:function(n){var t=this.all,i=t.getKey(n);t.containsKey(i)&&Ext.Error.raise('Registering duplicate id "'+i+'" with this manager');this.all.add(n)},unregister:function(n){this.all.remove(n)},registerType:function(n,t){this.types[n]=t;t[this.typeName]=n},isRegistered:function(n){return this.types[n]!==undefined},create:function(n,t){var i=n[this.typeName]||n.type||t,r=this.types[i];return r===undefined&&Ext.Error.raise("The '"+i+"' type has not been registered with this manager"),new r(n)},onAvailable:function(n,t,i){var r=this.all,u,f;if(r.containsKey(n))u=r.get(n),t.call(i||u,u);else{f=function(u,e,o){e==n&&(t.call(i||o,o),r.un("add",f))};r.on("add",f)}},each:function(n,t){this.all.each(n,t||this)},getCount:function(){return this.all.getCount()}})