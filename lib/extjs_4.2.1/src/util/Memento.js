Ext.define("Ext.util.Memento",function(){function i(n,t,i,r){n[r?r+i:i]=t[i]}function r(n,t,i){delete n[i]}function u(n,i,r,u){var f=u?u+r:r,e=n[f];(e||n.hasOwnProperty(f))&&t(i,r,e)}function t(n,t,i){Ext.isDefined(i)?n[t]=i:delete n[t]}function n(n,t,i,r,u){if(t)if(Ext.isArray(r))for(var e=r.length,f=0;f<e;f++)n(t,i,r[f],u);else n(t,i,r,u)}return{data:null,target:null,constructor:function(n,t){n&&(this.target=n,t&&this.capture(t))},capture:function(t,r,u){var f=this;n(i,f.data||(f.data={}),r||f.target,t,u)},remove:function(t){n(r,this.data,null,t)},restore:function(t,i,r,f){n(u,this.data,r||this.target,t,f);i!==!1&&this.remove(t)},restoreAll:function(n,i){var f=this,e=i||this.target,r=f.data;for(var u in r)r.hasOwnProperty(u)&&t(e,u,r[u]);n!==!1&&delete f.data}}}())