Ext.define("Ext.util.KeyNav",{alternateClassName:"Ext.KeyNav",requires:["Ext.util.KeyMap"],statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(n){var t=this;if(arguments.length===2){t.legacyConstructor.apply(t,arguments);return}t.setConfig(n)},legacyConstructor:function(n,t){this.setConfig(Ext.apply({target:n},t))},setConfig:function(n){var t=this,e={target:n.target,ignoreInputFields:n.ignoreInputFields,eventName:t.getKeyEvent("forceKeyDown"in n?n.forceKeyDown:t.forceKeyDown,n.eventName)},r,u,o,f,i;t.map&&t.map.destroy();n.processEvent&&(e.processEvent=n.processEvent,e.processEventScope=n.processEventScope||t);n.keyMap?r=t.map=n.keyMap:(r=t.map=new Ext.util.KeyMap(e),t.destroyKeyMap=!0);u=Ext.util.KeyNav.keyOptions;o=n.scope||t;for(f in u)u.hasOwnProperty(f)&&(i=n[f])&&(typeof i=="function"&&(i={handler:i,defaultEventAction:n.defaultEventAction!==undefined?n.defaultEventAction:t.defaultEventAction}),r.addBinding({key:u[f],handler:Ext.Function.bind(t.handleEvent,i.scope||o,i.handler||i.fn,!0),defaultEventAction:i.defaultEventAction!==undefined?i.defaultEventAction:t.defaultEventAction}));r.disable();n.disabled||r.enable()},handleEvent:function(n,t,i){return i.call(this,t)},disabled:!1,defaultEventAction:"stopEvent",forceKeyDown:!1,eventName:"keypress",destroy:function(n){this.destroyKeyMap&&this.map.destroy(n);delete this.map},enable:function(){this.map&&(this.map.enable(),this.disabled=!1)},disable:function(){this.map&&this.map.disable();this.disabled=!0},setDisabled:function(n){this.map.setDisabled(n);this.disabled=n},getKeyEvent:function(n,t){return n||Ext.EventManager.useKeyDown&&!t?"keydown":t||this.eventName}})