Ext.define("Ext.util.Sorter",{direction:"ASC",constructor:function(n){var t=this;Ext.apply(t,n);t.property===undefined&&t.sorterFn===undefined&&Ext.Error.raise("A Sorter requires either a property or a sorter function");t.updateSortFunction()},createSortFunction:function(n){var t=this,i=t.direction||"ASC",r=i.toUpperCase()=="DESC"?-1:1;return function(i,u){return r*n.call(t,i,u)}},defaultSorterFn:function(n,t){var i=this,f=i.transform,r=i.getRoot(n)[i.property],u=i.getRoot(t)[i.property];return f&&(r=f(r),u=f(u)),r>u?1:r<u?-1:0},getRoot:function(n){return this.root===undefined?n:n[this.root]},setDirection:function(n){var t=this;t.direction=n?n.toUpperCase():n;t.updateSortFunction()},toggle:function(){var n=this;n.direction=Ext.String.toggle(n.direction,"ASC","DESC");n.updateSortFunction()},updateSortFunction:function(n){var t=this;n=n||t.sorterFn||t.defaultSorterFn;t.sort=t.createSortFunction(n)},serialize:function(){return{root:this.root,property:this.property,direction:this.direction}}})