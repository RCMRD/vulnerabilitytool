Ext.define("Ext.util.Event",function(){var i=Array.prototype.slice,r=Ext.Array.insert,n=Ext.Array.toArray,t=Ext.util.DelayedTask;return{requires:"Ext.util.DelayedTask",isEvent:!0,suspended:0,noOptions:{},constructor:function(n,t){this.name=t;this.observable=n;this.listeners=[]},addListener:function(n,t,i){var u=this,s,a,h,c,o,v,l,f,e,y;if(t=t||u.observable,n||Ext.Error.raise({sourceClass:Ext.getClassName(this.observable),sourceMethod:"addListener",msg:"The specified callback function is undefined"}),!u.isListening(n,t)){if(a=u.createListener(n,t,i),u.firing&&(u.listeners=u.listeners.slice(0)),s=u.listeners,f=l=s.length,h=i&&i.priority,o=u._highestNegativePriorityIndex,v=o!==undefined,h)if(c=h<0,!c||v){for(e=c?o:0;e<l;e++)if(y=s[e].o?s[e].o.priority||0:0,y<h){f=e;break}}else u._highestNegativePriorityIndex=f;else v&&(f=o);!c&&f<=o&&u._highestNegativePriorityIndex++;f===l?u.listeners[l]=a:r(u.listeners,f,[a])}},createListener:function(n,t,i){t=t||this.observable;var f=this,u={fn:n,scope:t,ev:f},r=n;return i&&(u.o=i,i.single&&(r=f.createSingle(r,u,i,t)),i.target&&(r=f.createTargeted(r,u,i,t)),i.delay&&(r=f.createDelayed(r,u,i,t)),i.buffer&&(r=f.createBuffered(r,u,i,t))),u.fireFn=r,u},findListener:function(n,t){for(var u=this.listeners,r=u.length,i,f;r--;)if(i=u[r],i&&(f=i.scope,i.fn==n&&f==(t||this.observable)))return r;return-1},isListening:function(n,t){return this.findListener(n,t)!==-1},removeListener:function(n,t){var i=this,u,r,f,e;if(u=i.findListener(n,t),u!=-1){if(r=i.listeners[u],f=i._highestNegativePriorityIndex,i.firing&&(i.listeners=i.listeners.slice(0)),r.task&&(r.task.cancel(),delete r.task),e=r.tasks&&r.tasks.length,e){while(e--)r.tasks[e].cancel();delete r.tasks}return i.listeners.splice(u,1),f&&(u<f?i._highestNegativePriorityIndex--:u===f&&u===i.listeners.length&&delete i._highestNegativePriorityIndex),!0}return!1},clearListeners:function(){for(var n=this.listeners,t=n.length;t--;)this.removeListener(n[t].fn,n[t].scope)},suspend:function(){this.suspended+=1},resume:function(){this.suspended&&this.suspended--},fire:function(){var n=this,f=n.listeners,e=f.length,r,u,t,o;if(!n.suspended&&e>0)for(n.firing=!0,u=arguments.length?i.call(arguments,0):[],o=u.length,r=0;r<e;r++)if(t=f[r],t.o&&(u[o]=t.o),t&&t.fireFn.apply(t.scope||n.observable,u)===!1)return n.firing=!1;return n.firing=!1,!0},createTargeted:function(n,t,i,r){return function(){i.target===arguments[0]&&n.apply(r,arguments)}},createBuffered:function(i,r,u,f){return r.task=new t,function(){r.task.delay(u.buffer,i,f,n(arguments))}},createDelayed:function(i,r,u,f){return function(){var e=new t;r.tasks||(r.tasks=[]);r.tasks.push(e);e.delay(u.delay||10,i,f,n(arguments))}},createSingle:function(n,t,i,r){return function(){var i=t.ev;return i.removeListener(t.fn,r)&&i.observable&&i.observable.hasListeners[i.name]--,n.apply(r,arguments)}}}})