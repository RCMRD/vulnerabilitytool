Ext.define("Ext.util.ClickRepeater",{extend:"Ext.util.Observable",constructor:function(n,t){var i=this;if(i.el=Ext.get(n),i.el.unselectable(),Ext.apply(i,t),i.callParent(),i.addEvents("mousedown","click","mouseup"),i.disabled||(i.disabled=!0,i.enable()),i.handler)i.on("click",i.handler,i.scope||i)},interval:20,delay:250,preventDefault:!0,stopDefault:!1,timer:0,enable:function(){if(this.disabled){this.el.on("mousedown",this.handleMouseDown,this);if(Ext.isIE&&!(Ext.isIE10p||Ext.isStrict&&Ext.isIE9))this.el.on("dblclick",this.handleDblClick,this);if(this.preventDefault||this.stopDefault)this.el.on("click",this.eventOptions,this)}this.disabled=!1},disable:function(n){(n||!this.disabled)&&(clearTimeout(this.timer),this.pressedCls&&this.el.removeCls(this.pressedCls),Ext.getDoc().un("mouseup",this.handleMouseUp,this),this.el.removeAllListeners());this.disabled=!0},setDisabled:function(n){this[n?"disable":"enable"]()},eventOptions:function(n){this.preventDefault&&n.preventDefault();this.stopDefault&&n.stopEvent()},destroy:function(){this.disable(!0);Ext.destroy(this.el);this.clearListeners()},handleDblClick:function(n){clearTimeout(this.timer);this.el.blur();this.fireEvent("mousedown",this,n);this.fireEvent("click",this,n)},handleMouseDown:function(n){clearTimeout(this.timer);this.el.blur();this.pressedCls&&this.el.addCls(this.pressedCls);this.mousedownTime=new Date;Ext.getDoc().on("mouseup",this.handleMouseUp,this);this.el.on("mouseout",this.handleMouseOut,this);this.fireEvent("mousedown",this,n);this.fireEvent("click",this,n);this.accelerate&&(this.delay=400);n=new Ext.EventObjectImpl(n);this.timer=Ext.defer(this.click,this.delay||this.interval,this,[n])},click:function(n){this.fireEvent("click",this,n);this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12e3):this.interval,this,[n])},easeOutExpo:function(n,t,i,r){return n==r?t+i:i*(-Math.pow(2,-10*n/r)+1)+t},handleMouseOut:function(){clearTimeout(this.timer);this.pressedCls&&this.el.removeCls(this.pressedCls);this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn,this);this.pressedCls&&this.el.addCls(this.pressedCls);this.click()},handleMouseUp:function(n){clearTimeout(this.timer);this.el.un("mouseover",this.handleMouseReturn,this);this.el.un("mouseout",this.handleMouseOut,this);Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.pressedCls&&this.el.removeCls(this.pressedCls);this.fireEvent("mouseup",this,n)}})