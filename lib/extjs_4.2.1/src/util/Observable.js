Ext.define("Ext.util.Observable",function(n){var u=[],f=Array.prototype,i=f.slice,r=Ext.util.Event,t=function(n){if(n instanceof t)return n;this.observable=n;arguments[1].isObservable&&(this.managedListeners=!0);this.args=i.call(arguments,1)};return t.prototype.destroy=function(){this.observable[this.managedListeners?"mun":"un"].apply(this.observable,this.args)},{requires:["Ext.util.Event","Ext.EventManager"],statics:{releaseCapture:function(n){n.fireEventArgs=this.prototype.fireEventArgs},capture:function(n,t,i){var r=function(n,r){return t.apply(i,[n].concat(r))};this.captureArgs(n,r,i)},captureArgs:function(n,t,i){n.fireEventArgs=Ext.Function.createInterceptor(n.fireEventArgs,t,i)},observe:function(n,t){if(n&&(n.isObservable||(Ext.applyIf(n,new this),this.captureArgs(n.prototype,n.fireEventArgs,n)),Ext.isObject(t)))n.on(t);return n},prepareClass:function(t,i){if(!t.HasListeners){var r=function(){},u=t.superclass.HasListeners||i&&i.HasListeners||n.HasListeners;t.prototype.HasListeners=t.HasListeners=r;r.prototype=t.hasListeners=new u}}},isObservable:!0,eventsSuspended:0,constructor:function(n){var t=this;if(Ext.apply(t,n),t.hasListeners||(t.hasListeners=new t.HasListeners),t.events=t.events||{},t.listeners){t.on(t.listeners);t.listeners=null}t.bubbleEvents&&t.enableBubble(t.bubbleEvents)},onClassExtended:function(t){t.HasListeners||n.prepareClass(t)},eventOptionsRe:/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|element|destroyable|vertical|horizontal|freezeEvent|priority)$/,addManagedListener:function(n,i,r,u,f,e){var o=this,c=o.managedListeners=o.managedListeners||[],s,h;if(typeof i!="string"){h=arguments.length>4?f:i;f=i;for(i in f)f.hasOwnProperty(i)&&(s=f[i],o.eventOptionsRe.test(i)||o.addManagedListener(n,i,s.fn||s,s.scope||f.scope||u,s.fn?s:h,!0));if(f&&f.destroyable)return new t(o,n,f)}else{typeof r=="string"&&(u=u||o,r=Ext.resolveMethod(r,u));c.push({item:n,ename:i,fn:r,scope:u,options:f});n.on(i,r,u,f);if(!e&&f&&f.destroyable)return new t(o,n,i,r,u)}},removeManagedListener:function(n,t,i,r){var u=this,f,e,s,h,o;if(typeof t!="string"){f=t;for(t in f)f.hasOwnProperty(t)&&(e=f[t],u.eventOptionsRe.test(t)||u.removeManagedListener(n,t,e.fn||e,e.scope||f.scope||r))}else for(s=u.managedListeners?u.managedListeners.slice():[],typeof i=="string"&&(r=r||u,i=Ext.resolveMethod(i,r)),o=0,h=s.length;o<h;o++)u.removeManagedListenerItem(!1,s[o],n,t,i,r)},fireEvent:function(n){return this.fireEventArgs(n,i.call(arguments,1))},fireEventArgs:function(n,t){n=n.toLowerCase();var i=this,r=i.events,f=r&&r[n],e=!0;return f&&i.hasListeners[n]&&(e=i.continueFireEvent(n,t||u,f.bubble)),e},continueFireEvent:function(n,t,i){var r=this,e,u,f=!0;do{if(r.eventsSuspended)return(e=r.eventQueue)&&e.push([n,t,i]),f;if(u=r.events[n],u&&u!==!0&&(f=u.fire.apply(u,t))===!1)break}while(i&&(r=r.getBubbleParent()));return f},getBubbleParent:function(){var t=this,n=t.getBubbleTarget&&t.getBubbleTarget();return n&&n.isObservable?n:null},addListener:function(n,i,u,f){var e=this,s,o,h=0;if(typeof n!="string"){f=n;for(n in f)f.hasOwnProperty(n)&&(s=f[n],e.eventOptionsRe.test(n)||e.addListener(n,s.fn||s,s.scope||f.scope,s.fn?s:f));if(f&&f.destroyable)return new t(e,f)}else if(n=n.toLowerCase(),o=e.events[n],o&&o.isEvent?h=o.listeners.length:e.events[n]=o=new r(e,n),i||Ext.Error.raise("No function passed for event "+e.$className+"."+n),typeof i=="string"&&(u=u||e,i=Ext.resolveMethod(i,u)),o.addListener(i,u,f),o.listeners.length!==h&&e.hasListeners._incr_(n),f&&f.destroyable)return new t(e,n,i,u,f)},removeListener:function(n,t,i){var r=this,f,e,u;if(typeof n!="string"){u=n;for(n in u)u.hasOwnProperty(n)&&(f=u[n],r.eventOptionsRe.test(n)||r.removeListener(n,f.fn||f,f.scope||u.scope))}else n=n.toLowerCase(),e=r.events[n],e&&e.isEvent&&(typeof t=="string"&&(i=i||r,t=Ext.resolveMethod(t,i)),e.removeListener(t,i)&&r.hasListeners._decr_(n))},clearListeners:function(){var n=this.events,r=this.hasListeners,t;for(var i in n)n.hasOwnProperty(i)&&(t=n[i],t.isEvent&&(delete r[i],t.clearListeners()));this.clearManagedListeners()},purgeListeners:function(){return Ext.global.console&&Ext.global.console.warn("Observable: purgeListeners has been deprecated. Please use clearListeners."),this.clearListeners.apply(this,arguments)},clearManagedListeners:function(){for(var t=this.managedListeners||[],n=0,i=t.length;n<i;n++)this.removeManagedListenerItem(!0,t[n]);this.managedListeners=[]},removeManagedListenerItem:function(n,t,i,r,u,f){!n&&(t.item!==i||t.ename!==r||u&&t.fn!==u||f&&t.scope!==f)||(t.item.un(t.ename,t.fn,t.scope),n||Ext.Array.remove(this.managedListeners,t))},purgeManagedListeners:function(){return Ext.global.console&&Ext.global.console.warn("Observable: purgeManagedListeners has been deprecated. Please use clearManagedListeners."),this.clearManagedListeners.apply(this,arguments)},addEvents:function(n){var t=this,f=t.events||(t.events={}),i,r,u;if(typeof n=="string")for(r=arguments,u=r.length;u--;)i=r[u],f[i]||(f[i]=!0);else Ext.applyIf(t.events,n)},hasListener:function(n){return!!this.hasListeners[n.toLowerCase()]},suspendEvents:function(n){this.eventsSuspended+=1;n&&!this.eventQueue&&(this.eventQueue=[])},suspendEvent:function(){for(var i=arguments.length,t,n=0;n<i;n++)t=this.events[arguments[n]],t&&t.suspend&&t.suspend()},resumeEvent:function(){for(var i=arguments.length,t,n=0;n<i;n++)t=this.events[arguments[n]],t&&t.resume&&t.resume()},resumeEvents:function(){var n=this,i=n.eventQueue,r,t;if(n.eventsSuspended&&!--n.eventsSuspended&&(delete n.eventQueue,i))for(r=i.length,t=0;t<r;t++)n.continueFireEvent.apply(n,i[t])},relayEvents:function(n,i,r){for(var f=this,s=i.length,e=0,u,o={};e<s;e++)u=i[e],o[u]=f.createRelayer(r?r+u:u);return f.mon(n,o,null,null,undefined),new t(f,n,o)},createRelayer:function(n,t){var r=this;return function(){return r.fireEventArgs.call(r,n,t?i.apply(arguments,t):arguments)}},enableBubble:function(n){if(n)for(var f=this,e=typeof n=="string"?arguments:n,s=e.length,o=f.events,t,i,u=0;u<s;++u)t=e[u].toLowerCase(),i=o[t],i&&typeof i!="boolean"||(o[t]=i=new r(f,t)),f.hasListeners._incr_(t),i.bubble=!0}}},function(){function f(n){var t=(this.methodEvents=this.methodEvents||{})[n],r,i,u,e=this,f;return t||(this.methodEvents[n]=t={},t.originalFn=this[n],t.methodName=n,t.before=[],t.after=[],f=function(n,t,f){(i=n.apply(t||e,f))!==undefined&&(typeof i=="object"?(r=i.returnValue!==undefined?i.returnValue:i,u=!!i.cancel):i===!1?u=!0:r=i)},this[n]=function(){var h=Array.prototype.slice.call(arguments,0),o,n,s;for(r=i=undefined,u=!1,n=0,s=t.before.length;n<s;n++)if(o=t.before[n],f(o.fn,o.scope,h),u)return r;for((i=t.originalFn.apply(e,h))!==undefined&&(r=i),n=0,s=t.after.length;n<s;n++)if(o=t.after[n],f(o.fn,o.scope,h),u)return r;return r}),t}var n=this,r=n.prototype,u=function(){},i=function(t){if(!t.HasListeners){var r=t.prototype;n.prepareClass(t,this);t.onExtended(function(t){Ext.classSystemMonitor&&Ext.classSystemMonitor("extend mixin",arguments);n.prepareClass(t)});r.onClassMixedIn?Ext.override(t,{onClassMixedIn:function(n){i.call(this,n);this.callParent(arguments)}}):r.onClassMixedIn=function(n){i.call(this,n)}}},t;u.prototype={_decr_:function(n){--this[n]||delete this[n]},_incr_:function(n){this.hasOwnProperty(n)?++this[n]:this[n]=1}};r.HasListeners=n.HasListeners=u;n.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener"});n.observeClass=n.observe;Ext.globalEvents=t=new n({events:{idle:Ext.EventManager.idleEvent,ready:Ext.EventManager.readyEvent}});Ext.on=function(){return t.addListener.apply(t,arguments)};Ext.un=function(){return t.removeListener.apply(t,arguments)};Ext.apply(r,{onClassMixedIn:i,beforeMethod:function(n,t,i){f.call(this,n).before.push({fn:t,scope:i})},afterMethod:function(n,t,i){f.call(this,n).after.push({fn:t,scope:i})},removeMethodListener:function(n,t,i){for(var u=this.getMethodEvent(n),r=0,f=u.before.length;r<f;r++)if(u.before[r].fn==t&&u.before[r].scope==i){Ext.Array.erase(u.before,r,1);return}for(r=0,f=u.after.length;r<f;r++)if(u.after[r].fn==t&&u.after[r].scope==i){Ext.Array.erase(u.after,r,1);return}},toggleEventLogging:function(n){Ext.util.Observable[n?"capture":"releaseCapture"](this,function(n){Ext.isDefined(Ext.global.console)&&Ext.global.console.log(n,arguments)})}})})