Ext.define("Ext.AbstractComponent",{requires:["Ext.ComponentQuery","Ext.ComponentManager","Ext.util.ProtoElement","Ext.dom.CompositeElement","Ext.PluginManager"],mixins:{positionable:"Ext.util.Positionable",observable:"Ext.util.Observable",animate:"Ext.util.Animate",elementCt:"Ext.util.ElementContainer",renderable:"Ext.util.Renderable",state:"Ext.state.Stateful"},uses:["Ext.PluginManager","Ext.Element","Ext.DomHelper","Ext.XTemplate","Ext.ComponentLoader","Ext.EventManager","Ext.layout.Context","Ext.layout.Layout","Ext.layout.component.Auto","Ext.LoadMask","Ext.ZIndexManager"],statics:{AUTO_ID:1e3,pendingLayouts:null,layoutSuspendCount:0,cancelLayout:function(n,t){var i=this.runningLayoutContext||this.pendingLayouts;i&&i.cancelComponent(n,!1,t)},flushLayouts:function(){var t=this,n=t.pendingLayouts;n&&n.invalidQueue.length&&(t.pendingLayouts=null,t.runningLayoutContext=n,Ext.override(n,{runComplete:function(){t.runningLayoutContext=null;var n=this.callParent();return Ext.globalEvents.hasListeners.afterlayout&&Ext.globalEvents.fireEvent("afterlayout"),n}}),n.run())},resumeLayouts:function(n){this.layoutSuspendCount&&!--this.layoutSuspendCount&&(n&&this.flushLayouts(),Ext.globalEvents.hasListeners.resumelayouts&&Ext.globalEvents.fireEvent("resumelayouts"))},suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(n,t){var i=this,r=i.runningLayoutContext,u;r?r.queueInvalidate(n):(u=i.pendingLayouts||(i.pendingLayouts=new Ext.layout.Context),u.queueInvalidate(n),t||i.layoutSuspendCount||n.isLayoutSuspended()||i.flushLayouts())}},isComponent:!0,getAutoId:function(){return this.autoGenId=!0,++Ext.AbstractComponent.AUTO_ID},deferLayouts:!1,autoGenId:!1,renderTpl:"{%this.renderContent(out,values)%}",frameSize:null,tplWriteMode:"overwrite",baseCls:Ext.baseCSSPrefix+"component",disabledCls:Ext.baseCSSPrefix+"item-disabled",ui:"default",uiCls:[],hidden:!1,disabled:!1,draggable:!1,floating:!1,hideMode:"display",autoShow:!1,autoRender:!1,allowDomMove:!0,rendered:!1,componentLayoutCounter:0,shrinkWrap:2,weight:0,maskOnDisable:!0,_isLayoutRoot:!1,contentPaddingProperty:"padding",horizontalPosProp:"left",borderBoxCls:Ext.baseCSSPrefix+"border-box",constructor:function(n){var t=this,i,u,r;if(n?(Ext.apply(t,n),r=t.xhooks,r&&(delete t.xhooks,Ext.override(t,r))):n={},t.initialConfig=n,t.mixins.elementCt.constructor.call(t),t.addEvents("beforeactivate","activate","beforedeactivate","deactivate","added","disable","enable","beforeshow","show","beforehide","hide","removed","beforerender","render","afterrender","boxready","beforedestroy","destroy","resize","move","focus","blur"),t.getId(),t.setupProtoEl(),t.cls&&(t.initialCls=t.cls,t.protoEl.addCls(t.cls)),t.style&&(t.initialStyle=t.style,t.protoEl.setStyle(t.style)),t.renderData=t.renderData||{},t.renderSelectors=t.renderSelectors||{},t.plugins&&(t.plugins=t.constructPlugins()),t.hasListeners||(t.hasListeners=new t.HasListeners),t.initComponent(),Ext.ComponentManager.register(t),t.mixins.observable.constructor.call(t),t.mixins.state.constructor.call(t,n),this.addStateEvents("resize"),t.plugins)for(i=0,u=t.plugins.length;i<u;i++)t.plugins[i]=t.initPlugin(t.plugins[i]);t.loader=t.getLoader();t.renderTo&&t.render(t.renderTo);t.autoShow&&!t.isContained&&t.show();Ext.isDefined(t.disabledClass)&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.Component: disabledClass has been deprecated. Please use disabledCls."),t.disabledCls=t.disabledClass,delete t.disabledClass)},initComponent:function(){this.plugins=this.constructPlugins();this.setSize(this.width,this.height)},getState:function(){var t=this,n=null,i=t.getSizeModel();return i.width.configured&&(n=t.addPropertyToState(n,"width")),i.height.configured&&(n=t.addPropertyToState(n,"height")),n},addPropertyToState:function(n,t,i){var r=this,u=arguments.length;return(u==3||r.hasOwnProperty(t))&&(u<3&&(i=r[t]),i!==r.initialConfig[t]&&((n||(n={}))[t]=i)),n},show:Ext.emptyFn,animate:function(n){var t=this,r,u,f,e,i,w,b,o,l,s,a,h,v,y,p,c;return(n=n||{},i=n.to||{},Ext.fx.Manager.hasFxBlock(t.id))?t:(r=Ext.isDefined(i.width),r&&(e=Ext.Number.constrain(i.width,t.minWidth,t.maxWidth)),u=Ext.isDefined(i.height),u&&(f=Ext.Number.constrain(i.height,t.minHeight,t.maxHeight)),!n.dynamic&&(r||u)&&(o=(n.from?n.from.width:undefined)||t.getWidth(),l=o,s=(n.from?n.from.height:undefined)||t.getHeight(),a=s,h=!1,u&&f>s&&(a=f,h=!0),r&&e>o&&(l=e,h=!0),(u||r)&&(c=t.el.getStyle("overtflow"),c!=="hidden"&&t.el.setStyle("overflow","hidden")),h&&(w=!Ext.isNumber(t.width),b=!Ext.isNumber(t.height),t.setSize(l,a),t.el.setSize(o,s),w&&delete t.width,b&&delete t.height),r&&(i.width=e),u&&(i.height=f)),v=t.constrain,y=t.constrainHeader,(v||y)&&(t.constrain=t.constrainHeader=!1,p=n.callback,n.callback=function(){t.constrain=v;t.constrainHeader=y;p&&p.call(n.scope||t,arguments);c!=="hidden"&&t.el.setStyle("overflow",c)}),t.mixins.animate.animate.apply(t,arguments))},setHiddenState:function(n){var t=this.getHierarchyState();this.hidden=n;n?t.hidden=!0:delete t.hidden},onHide:function(){this.ownerLayout&&this.updateLayout({isRoot:!1})},onShow:function(){this.updateLayout({isRoot:!1})},constructPlugin:function(n){var t=this;return typeof n=="string"?Ext.PluginManager.create({},n,t):Ext.PluginManager.create(n,null,t)},constructPlugins:function(){var i=this,n=i.plugins,r,t,u;if(n)for(r=[],Ext.isArray(n)||(n=[n]),t=0,u=n.length;t<u;t++)r[t]=i.constructPlugin(n[t]);return i.pluginsInitialized=!0,r},initPlugin:function(n){return n.init(this),n},addPlugin:function(n){var t=this;return n=t.constructPlugin(n),t.plugins?t.plugins.push(n):t.plugins=[n],t.pluginsInitialized&&t.initPlugin(n),n},removePlugin:function(n){Ext.Array.remove(this.plugins,n);n.destroy()},findPlugin:function(n){for(var i=this.plugins,r=i&&i.length,t=0;t<r;t++)if(i[t].ptype===n)return i[t]},getPlugin:function(n){for(var i=this.plugins,r=i&&i.length,t=0;t<r;t++)if(i[t].pluginId===n)return i[t]},beforeLayout:Ext.emptyFn,updateAria:Ext.emptyFn,registerFloatingItem:function(n){var t=this;t.floatingDescendants||(t.floatingDescendants=new Ext.ZIndexManager(t));t.floatingDescendants.register(n)},unregisterFloatingItem:function(n){var t=this;t.floatingDescendants&&t.floatingDescendants.unregister(n)},layoutSuspendCount:0,suspendLayouts:function(){var n=this;n.rendered&&++n.layoutSuspendCount==1&&(n.suspendLayout=!0)},resumeLayouts:function(n){var t=this;t.rendered&&(--t.layoutSuspendCount||(t.suspendLayout=!1,n&&!t.isLayoutSuspended()&&t.updateLayout(n)))},setupProtoEl:function(){var n=this.initCls();this.protoEl=new Ext.util.ProtoElement({cls:n.join(" ")})},initCls:function(){var n=this,t=[n.baseCls,n.getComponentLayout().targetCls];return Ext.isDefined(n.cmpCls)&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.Component: cmpCls has been deprecated. Please use componentCls."),n.componentCls=n.cmpCls,delete n.cmpCls),n.componentCls?t.push(n.componentCls):n.componentCls=n.baseCls,t},setUI:function(n){var t=this,r=t.uiCls,u=t.activeUI,i;n!==u&&(u?(i=t.removeClsWithUI(r,!0),i.length&&t.removeCls(i),t.removeUIFromElement()):t.uiCls=[],t.ui=n,t.activeUI=n,t.addUIToElement(),i=t.addClsWithUI(r,!0),i.length&&t.addCls(i),t.rendered&&t.updateLayout())},addClsWithUI:function(n,t){var i=this,u=[],f=0,s=i.uiCls=Ext.Array.clone(i.uiCls),e=i.activeUI,o,r;for(typeof n=="string"&&(n=n.indexOf(" ")<0?[n]:Ext.String.splitWords(n)),o=n.length;f<o;f++)r=n[f],r&&!i.hasUICls(r)&&(s.push(r),e&&(u=u.concat(i.addUIClsToElement(r))));return t!==!0&&e&&i.addCls(u),u},removeClsWithUI:function(n,t){var i=this,u=[],f=0,e=Ext.Array,h=e.remove,c=i.uiCls=e.clone(i.uiCls),o=i.activeUI,s,r;for(typeof n=="string"&&(n=n.indexOf(" ")<0?[n]:Ext.String.splitWords(n)),s=n.length,f=0;f<s;f++)r=n[f],r&&i.hasUICls(r)&&(h(c,r),o&&(u=u.concat(i.removeUIClsFromElement(r))));return t!==!0&&o&&i.removeCls(u),u},hasUICls:function(n){var t=this,i=t.uiCls||[];return Ext.Array.contains(i,n)},frameElementsArray:["tl","tc","tr","ml","mc","mr","bl","bc","br"],addUIClsToElement:function(n){var t=this,e=t.baseCls+"-"+t.ui+"-"+n,s=[Ext.baseCSSPrefix+n,t.baseCls+"-"+n,e],r,o,i,u,f;if(t.rendered&&t.frame&&!Ext.supports.CSS3BorderRadius)for(r=t.frameElementsArray,o=r.length,i=0;i<o;i++)f=r[i],u=t["frame"+f.toUpperCase()],u&&u.addCls(e+"-"+f);return s},removeUIClsFromElement:function(n){var t=this,e=t.baseCls+"-"+t.ui+"-"+n,s=[Ext.baseCSSPrefix+n,t.baseCls+"-"+n,e],r,o,i,u,f;if(t.rendered&&t.frame&&!Ext.supports.CSS3BorderRadius)for(r=t.frameElementsArray,o=r.length,i=0;i<o;i++)f=r[i],u=t["frame"+f.toUpperCase()],u&&u.removeCls(e+"-"+f);return s},addUIToElement:function(){var n=this,f=n.baseCls+"-"+n.ui,i,e,t,r,u;if(n.addCls(f),n.rendered&&n.frame&&!Ext.supports.CSS3BorderRadius)for(i=n.frameElementsArray,e=i.length,t=0;t<e;t++)u=i[t],r=n["frame"+u.toUpperCase()],r&&r.addCls(f+"-"+u)},removeUIFromElement:function(){var n=this,f=n.baseCls+"-"+n.ui,i,e,t,r,u;if(n.removeCls(f),n.rendered&&n.frame&&!Ext.supports.CSS3BorderRadius)for(i=n.frameElementsArray,e=i.length,t=0;t<e;t++)u=i[t],r=n["frame"+u.toUpperCase()],r&&r.removeCls(f+"-"+u)},getTpl:function(n){return Ext.XTemplate.getTpl(this,n)},initStyles:function(n){var t=this,c=Ext.Element,e=t.margin,h=t.border,o=t.cls,s=t.style,u=t.x,f=t.y,i,r;t.initPadding(n);e!=null&&n.setStyle("margin",this.unitizeBox(e===!0?5:e));h!=null&&t.setBorder(h,n);o&&o!=t.initialCls&&(n.addCls(o),t.cls=t.initialCls=null);s&&s!=t.initialStyle&&(n.setStyle(s),t.style=t.initialStyle=null);u!=null&&n.setStyle(t.horizontalPosProp,typeof u=="number"?u+"px":u);f!=null&&n.setStyle("top",typeof f=="number"?f+"px":f);Ext.isBorderBox&&(!t.ownerCt||t.floating)&&n.addCls(t.borderBoxCls);t.getFrameInfo()||(i=t.width,r=t.height,i!=null&&(typeof i=="number"?Ext.isBorderBox&&n.setStyle("width",i+"px"):n.setStyle("width",i)),r!=null&&(typeof r=="number"?Ext.isBorderBox&&n.setStyle("height",r+"px"):n.setStyle("height",r)))},initPadding:function(n){var t=this,i=t.padding;i!=null&&(t.layout&&t.layout.managePadding&&t.contentPaddingProperty==="padding"?n.setStyle("padding",0):n.setStyle("padding",this.unitizeBox(i===!0?5:i)))},parseBox:function(n){return Ext.dom.Element.parseBox(n)},unitizeBox:function(n){return Ext.dom.Element.unitizeBox(n)},setMargin:function(n,t){var i=this;i.rendered?(n||n===0?(n===!0&&(n=5),n=this.unitizeBox(n)):n="",i.getTargetEl().setStyle("margin",n),t||i.updateLayout()):i.margin=n},initEvents:function(){var n=this,r=n.afterRenderEvents,u,t,f,i,e;if(r)for(f in r)if(t=n[f],t&&t.on)for(u=r[f],i=0,e=u.length;i<e;++i)n.mon(t,u[i]);n.addFocusListener()},addFocusListener:function(){var n=this,t=n.getFocusEl(),i;if(t){if(t.isComponent)return t.addFocusListener();if(i=t.needsTabIndex(),!n.focusListenerAdded&&(!i||Ext.FocusManager.enabled)){i&&(t.dom.tabIndex=-1);t.on({focus:n.onFocus,blur:n.onBlur,scope:n});n.focusListenerAdded=!0}}},getFocusEl:Ext.emptyFn,isFocusable:function(){var n=this,t;if(n.focusable!==!1&&(t=n.getFocusEl())&&n.rendered&&!n.destroying&&!n.isDestroyed&&!n.disabled&&n.isVisible(!0))return t.isFocusable(!0)},beforeFocus:Ext.emptyFn,onFocus:function(n){var t=this,i=t.focusCls,r=t.getFocusEl();t.disabled||(t.beforeFocus(n),i&&r&&r.addCls(t.addClsWithUI(i,!0)),t.hasFocus||(t.hasFocus=!0,t.fireEvent("focus",t,n)))},beforeBlur:Ext.emptyFn,onBlur:function(n){var t=this,i=t.focusCls,r=t.getFocusEl();t.destroying||(t.beforeBlur(n),i&&r&&r.removeCls(t.removeClsWithUI(i,!0)),t.validateOnBlur&&t.validate(),t.hasFocus=!1,t.fireEvent("blur",t,n),t.postBlur(n))},postBlur:Ext.emptyFn,is:function(n){return Ext.ComponentQuery.is(this,n)},up:function(n,t){var i=this.getRefOwner(),u=typeof t=="string",f=typeof t=="number",e=t&&t.isComponent,r=0;if(n)for(;i;i=i.getRefOwner()){if(r++,n.isComponent){if(i===n)return i}else if(Ext.ComponentQuery.is(i,n))return i;if(u&&i.is(t))return;if(f&&r===t)return;if(e&&i===t)return}return i},nextSibling:function(n){var r=this.ownerCt,i,u,t,f;if(r&&(i=r.items,t=i.indexOf(this)+1,t))if(n){for(u=i.getCount();t<u;t++)if((f=i.getAt(t)).is(n))return f}else if(t<i.getCount())return i.getAt(t);return null},previousSibling:function(n){var r=this.ownerCt,i,t,u;if(r&&(i=r.items,t=i.indexOf(this),t!=-1))if(n){for(--t;t>=0;t--)if((u=i.getAt(t)).is(n))return u}else if(t)return i.getAt(--t);return null},previousNode:function(n,t){var u=this,e=u.ownerCt,i,o,f,r;if(t&&u.is(n))return u;if(e){for(o=e.items.items,f=Ext.Array.indexOf(o,u)-1;f>-1;f--){if(r=o[f],r.query&&(i=r.query(n),i=i[i.length-1],i))return i;if(r.is(n))return r}return e.previousNode(n,!0)}return null},nextNode:function(n,t){var r=this,e=r.ownerCt,o,u,s,f,i;if(t&&r.is(n))return r;if(e){for(u=e.items.items,f=Ext.Array.indexOf(u,r)+1,s=u.length;f<s;f++){if(i=u[f],i.is(n))return i;if(i.down&&(o=i.down(n),o))return o}return e.nextNode(n)}return null},getId:function(){return this.id||(this.id="ext-comp-"+this.getAutoId())},getItemId:function(){return this.itemId||this.id},getEl:function(){return this.el},getTargetEl:function(){return this.frameBody||this.el},getOverflowEl:function(){return this.getTargetEl()},getOverflowStyle:function(){var i=this,r=null,n,t,u;return typeof i.autoScroll=="boolean"?(r={overflow:u=i.autoScroll?"auto":""},i.scrollFlags={overflowX:u,overflowY:u,x:!0,y:!0,both:!0}):(n=i.overflowX,t=i.overflowY,n!==undefined||t!==undefined?(r={overflowX:n=n||"",overflowY:t=t||""},i.scrollFlags={overflowX:n,overflowY:t,x:n=n==="auto"||n==="scroll",y:t=t==="auto"||t==="scroll",both:n&&t}):i.scrollFlags={overflowX:"",overflowY:"",x:!1,y:!1,both:!1}),r&&Ext.isIE7m&&(r.position="relative"),r},isXType:function(n,t){return t?this.xtype===n:this.xtypesMap[n]},getXTypes:function(){var i=this.self,n,t,r;if(!i.xtypes){for(n=[],t=this;t;)r=t.xtypes,r!==undefined&&n.unshift.apply(n,r),t=t.superclass;i.xtypeChain=n;i.xtypes=n.join("/")}return i.xtypes},update:function(n,t,i){var r=this,f=r.tpl&&!Ext.isString(n),u;f?r.data=n:r.html=Ext.isObject(n)?Ext.DomHelper.markup(n):n;r.rendered&&(u=r.isContainer?r.layout.getRenderTarget():r.getTargetEl(),f?r.tpl[r.tplWriteMode](u,n||{}):u.update(r.html,t,i),r.updateLayout())},setVisible:function(n){return this[n?"show":"hide"]()},isVisible:function(n){var t=this,i;return t.hidden||!t.rendered||t.isDestroyed?i=!0:n&&(i=t.isHierarchicallyHidden()),!i},isHierarchicallyHidden:function(){for(var n=this,t=!1,i,r;i=n.ownerCt||n.floatParent;n=i){if(r=i.getHierarchyState(),r.hidden){t=!0;break}if(n.getHierarchyState().collapseImmune){if(i.collapsed&&!n.collapseImmune){t=!0;break}}else{t=!!r.collapsed;break}}return t},onBoxReady:function(n,t){var i=this;i.disableOnBoxReady?i.onDisable():i.enableOnBoxReady&&i.onEnable();i.resizable&&i.initResizable(i.resizable);i.draggable&&i.initDraggable();i.hasListeners.boxready&&i.fireEvent("boxready",i,n,t)},enable:function(n){var t=this;return delete t.disableOnBoxReady,t.removeCls(t.disabledCls),t.rendered?t.onEnable():t.enableOnBoxReady=!0,t.disabled=!1,delete t.resetDisable,n!==!0&&t.fireEvent("enable",t),t},disable:function(n){var t=this;return delete t.enableOnBoxReady,t.addCls(t.disabledCls),t.rendered?t.onDisable():t.disableOnBoxReady=!0,t.disabled=!0,n!==!0&&(delete t.resetDisable,t.fireEvent("disable",t)),t},onEnable:function(){this.maskOnDisable&&(this.el.dom.disabled=!1,this.unmask())},onDisable:function(){var n=this,t=n.focusCls,i=n.getFocusEl();t&&i&&i.removeCls(n.removeClsWithUI(t,!0));n.maskOnDisable&&(n.el.dom.disabled=!0,n.mask())},mask:function(){var n=this.lastBox,t=this.getMaskTarget(),i=[];n&&(i[2]=n.height);t.mask.apply(t,i)},unmask:function(){this.getMaskTarget().unmask()},getMaskTarget:function(){return this.el},isDisabled:function(){return this.disabled},setDisabled:function(n){return this[n?"disable":"enable"]()},isHidden:function(){return this.hidden},addCls:function(){var n=this,t=n.rendered?n.el:n.protoEl;return t.addCls.apply(t,arguments),n},addClass:function(){return this.addCls.apply(this,arguments)},hasCls:function(){var n=this,t=n.rendered?n.el:n.protoEl;return t.hasCls.apply(t,arguments)},removeCls:function(){var n=this,t=n.rendered?n.el:n.protoEl;return t.removeCls.apply(t,arguments),n},removeClass:function(){return Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.Component: removeClass has been deprecated. Please use removeCls."),this.removeCls.apply(this,arguments)},addOverCls:function(){var n=this;n.disabled||n.el.addCls(n.overCls)},removeOverCls:function(){this.el.removeCls(this.overCls)},addListener:function(n,t,i,r){var u=this,e,f;if(Ext.isString(n)&&(Ext.isObject(t)||r&&r.element)){if(r.element){e=t;t={};t[n]=e;n=r.element;i&&(t.scope=i);for(f in r)r.hasOwnProperty(f)&&u.eventOptionsRe.test(f)&&(t[f]=r[f])}u[n]&&u[n].on?u.mon(u[n],t):(u.afterRenderEvents=u.afterRenderEvents||{},u.afterRenderEvents[n]||(u.afterRenderEvents[n]=[]),u.afterRenderEvents[n].push(t));return}return u.mixins.observable.addListener.apply(u,arguments)},removeManagedListenerItem:function(n,t,i,r,u,f){var o=this,e=t.options?t.options.element:null;if(e)e=o[e],e&&e.un&&(!n&&(t.item!==i||t.ename!==r||u&&t.fn!==u||f&&t.scope!==f)||(e.un(t.ename,t.fn,t.scope),n||Ext.Array.remove(o.managedListeners,t)));else return o.mixins.observable.removeManagedListenerItem.apply(o,arguments)},getBubbleTarget:function(){return this.ownerCt},isFloating:function(){return this.floating},isDraggable:function(){return!!this.draggable},isDroppable:function(){return!!this.droppable},onAdded:function(n,t){var i=this;i.ownerCt=n;i.hierarchyState&&(i.hierarchyState.invalid=!0,delete i.hierarchyState);i.hasListeners.added&&i.fireEvent("added",i,n,t)},onRemoved:function(){var n=this;n.hasListeners.removed&&n.fireEvent("removed",n,n.ownerCt);delete n.ownerCt;delete n.ownerLayout},beforeDestroy:Ext.emptyFn,onResize:function(n,t,i,r){var u=this;u.floating&&u.constrain&&u.doConstrain();u.hasListeners.resize&&u.fireEvent("resize",u,n,t,i,r)},setSize:function(n,t){var i=this;return n&&typeof n=="object"&&(t=n.height,n=n.width),typeof n=="number"?i.width=Ext.Number.constrain(n,i.minWidth,i.maxWidth):n===null&&delete i.width,typeof t=="number"?i.height=Ext.Number.constrain(t,i.minHeight,i.maxHeight):t===null&&delete i.height,i.rendered&&i.isVisible()&&i.updateLayout({isRoot:!1}),i},isLayoutRoot:function(){var n=this,t=n.ownerLayout;return!t||n._isLayoutRoot||n.floating?!0:t.isItemLayoutRoot(n)},isLayoutSuspended:function(){for(var n=this,t;n;){if(n.layoutSuspendCount||n.suspendLayout)return!0;if(t=n.ownerLayout,!t)break;n=t.owner}return!1},updateLayout:function(n){var t=this,r,u=t.lastBox,i=n&&n.isRoot;(u&&(u.invalid=!0),!t.rendered||t.layoutSuspendCount||t.suspendLayout)||(t.hidden?Ext.AbstractComponent.cancelLayout(t):typeof i!="boolean"&&(i=t.isLayoutRoot()),!i&&t.ownerLayout&&t.ownerLayout.onContentChange(t)||t.isLayoutSuspended()||(r=n&&n.hasOwnProperty("defer")?n.defer:t.deferLayouts,Ext.AbstractComponent.updateLayout(t,r)))},getSizeModel:function(n){var r=this,t=Ext.layout.SizeModel,o=r.componentLayout.ownerContext,a=r.width,v=r.height,y,p,s,h,f,c,u,i,l,e;return o&&(e=o.widthModel,f=o.heightModel),e&&f||(s=(y=typeof a)=="number",h=(p=typeof v)=="number",l=r.floating||!(c=r.ownerLayout),l?(u=Ext.layout.Layout.prototype.autoSizePolicy,i=r.floating?3:r.shrinkWrap,s&&(e=t.configured),h&&(f=t.configured)):(u=c.getItemSizePolicy(r,n),i=c.isItemShrinkWrap(r)),o&&(o.ownerSizePolicy=u),i=i===!0?3:i||0,l&&i&&(a&&y=="string"&&(i&=2),v&&p=="string"&&(i&=1)),i!==3&&(n||(n=r.ownerCt&&r.ownerCt.getSizeModel()),n&&(i|=(n.width.shrinkWrap?1:0)|(n.height.shrinkWrap?2:0))),e||(e=u.setsWidth?u.readsWidth?s?t.calculatedFromConfigured:i&1?t.calculatedFromShrinkWrap:t.calculatedFromNatural:t.calculated:s?t.configured:i&1?t.shrinkWrap:t.natural),f||(f=u.setsHeight?u.readsHeight?h?t.calculatedFromConfigured:i&2?t.calculatedFromShrinkWrap:t.calculatedFromNatural:t.calculated:h?t.configured:i&2?t.shrinkWrap:t.natural)),e.pairsByHeightOrdinal[f.ordinal]},isDescendant:function(n){if(n.isContainer)for(var t=this.ownerCt;t;t=t.ownerCt)if(t===n)return!0;return!1},doComponentLayout:function(){return this.updateLayout(),this},forceComponentLayout:function(){this.updateLayout()},setComponentLayout:function(n){var t=this.componentLayout;t&&t.isLayout&&t!=n&&t.setOwner(null);this.componentLayout=n;n.setOwner(this)},getComponentLayout:function(){var n=this;return n.componentLayout&&n.componentLayout.isLayout||n.setComponentLayout(Ext.layout.Layout.create(n.componentLayout,"autocomponent")),n.componentLayout},afterComponentLayout:function(n,t,i,r){var u=this;if(++u.componentLayoutCounter==1&&u.afterFirstLayout(n,t),n!==i||t!==r)u.onResize(n,t,i,r)},beforeComponentLayout:function(){return!0},setPosition:function(n,t,i){var r=this,u=r.beforeSetPosition.apply(r,arguments);return u&&r.rendered&&(n=u.x,t=u.y,i?(n!==r.getLocalX()||t!==r.getLocalY())&&(r.stopAnimation(),r.animate(Ext.apply({duration:1e3,listeners:{afteranimate:Ext.Function.bind(r.afterSetPosition,r,[n,t])},to:{x:n,y:t}},i))):(r.setLocalXY(n,t),r.afterSetPosition(n,t))),r},beforeSetPosition:function(n,t,i){var r,u;return n&&(Ext.isNumber(u=n[0])?(i=t,t=n[1],n=u):(u=n.x)!==undefined&&(i=t,t=n.y,n=u)),(this.constrain||this.constrainHeader)&&(r=this.calculateConstrainedPosition(null,[n,t],!0),r&&(n=r[0],t=r[1])),r={x:this.x=n,y:this.y=t,anim:i,hasX:n!==undefined,hasY:t!==undefined},r.hasX||r.hasY?r:null},afterSetPosition:function(n,t){var i=this;i.onPosition(n,t);i.hasListeners.move&&i.fireEvent("move",i,n,t)},onPosition:Ext.emptyFn,setWidth:function(n){return this.setSize(n)},setHeight:function(n){return this.setSize(undefined,n)},getSize:function(){return this.el.getSize()},getWidth:function(){return this.el.getWidth()},getHeight:function(){return this.el.getHeight()},getLoader:function(){var n=this,i=n.autoLoad?Ext.isObject(n.autoLoad)?n.autoLoad:{url:n.autoLoad}:null,t=n.loader||i;return t?(t.isLoader?t.setTarget(n):n.loader=new Ext.ComponentLoader(Ext.apply({target:n,autoLoad:i},t)),n.loader):null},setDocked:function(n,t){var i=this;return i.dock=n,t&&i.ownerCt&&i.rendered&&i.ownerCt.updateLayout(),i},setBorder:function(n,t){var i=this,r=!!t;(i.rendered||r)&&(r||(t=i.el),n=n?n===!0?"1px":this.unitizeBox(n):0,t.setStyle("border-width",n),r||i.updateLayout());i.border=n},onDestroy:function(){var n=this;n.monitorResize&&Ext.EventManager.resizeEvent&&Ext.EventManager.resizeEvent.removeListener(n.setSize,n);Ext.destroy(n.componentLayout,n.loadMask,n.floatingDescendants)},destroy:function(){var n=this,i=n.renderSelectors,t,r;if(!n.isDestroyed&&(!n.hasListeners.beforedestroy||n.fireEvent("beforedestroy",n)!==!1)){if(n.destroying=!0,n.beforeDestroy(),n.floating?(delete n.floatParent,n.zIndexManager&&n.zIndexManager.unregister(n)):n.ownerCt&&n.ownerCt.remove&&n.ownerCt.remove(n,!1),n.stopAnimation(),n.onDestroy(),Ext.destroy(n.plugins),n.hasListeners.destroy&&n.fireEvent("destroy",n),Ext.ComponentManager.unregister(n),n.mixins.state.destroy.call(n),n.clearListeners(),n.rendered){if(n.preserveElOnDestroy||n.el.remove(),n.mixins.elementCt.destroy.call(n),i)for(t in i)i.hasOwnProperty(t)&&(r=n[t],r&&(delete n[t],r.remove()));delete n.el;delete n.frameBody;delete n.rendered}n.destroying=!1;n.isDestroyed=!0}},isDescendantOf:function(n){return!!this.findParentBy(function(t){return t===n})},getHierarchyState:function(n){var t=this,i=n&&t.hierarchyStateInner||t.hierarchyState,e=t.ownerCt,u,r,f,o;return(!i||i.invalid)&&(u=t.getRefOwner(),e&&(o=t.ownerLayout===e.layout),t.hierarchyState=i=Ext.Object.chain(u?u.getHierarchyState(o):Ext.rootHierarchyState),t.initHierarchyState(i),(r=t.componentLayout).initHierarchyState&&r.initHierarchyState(i),t.isContainer&&(t.hierarchyStateInner=f=Ext.Object.chain(i),r=t.layout,r&&r.initHierarchyState&&r.initHierarchyState(f,i),n&&(i=f))),i},initHierarchyState:function(n){var t=this;t.collapsed&&(n.collapsed=!0);t.hidden&&(n.hidden=!0);t.collapseImmune&&(n.collapseImmune=!0)},getAnchorToXY:function(n,t,i,r){return n.getAnchorXY(t,i,r)},getBorderPadding:function(){return this.el.getBorderPadding()},getLocalX:function(){return this.el.getLocalX()},getLocalXY:function(){return this.el.getLocalXY()},getLocalY:function(){return this.el.getLocalY()},getX:function(){return this.el.getX()},getXY:function(){return this.el.getXY()},getY:function(){return this.el.getY()},setLocalX:function(n){this.el.setLocalX(n)},setLocalXY:function(n,t){this.el.setLocalXY(n,t)},setLocalY:function(n){this.el.setLocalY(n)},setX:function(n,t){this.el.setX(n,t)},setXY:function(n,t){this.el.setXY(n,t)},setY:function(n,t){this.el.setY(n,t)}},function(){var n=this;n.createAlias({on:"addListener",prev:"previousSibling",next:"nextSibling"});Ext.resumeLayouts=function(t){n.resumeLayouts(t)};Ext.suspendLayouts=function(){n.suspendLayouts()};Ext.batchLayouts=function(t,i){n.suspendLayouts();t.call(i);n.resumeLayouts(!0)}})