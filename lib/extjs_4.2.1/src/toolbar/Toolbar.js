Ext.define("Ext.toolbar.Toolbar",{extend:"Ext.container.Container",requires:["Ext.toolbar.Fill","Ext.layout.container.HBox","Ext.layout.container.VBox"],uses:["Ext.toolbar.Separator"],alias:"widget.toolbar",alternateClassName:"Ext.Toolbar",isToolbar:!0,baseCls:Ext.baseCSSPrefix+"toolbar",ariaRole:"toolbar",defaultType:"button",vertical:!1,enableOverflow:!1,menuTriggerCls:Ext.baseCSSPrefix+"toolbar-more-icon",trackMenus:!0,itemCls:Ext.baseCSSPrefix+"toolbar-item",statics:{shortcuts:{"-":"tbseparator"," ":"tbspacer"},shortcutsHV:{0:{"->":{xtype:"tbfill",height:0}},1:{"->":{xtype:"tbfill",width:0}}}},initComponent:function(){var n=this;!n.layout&&n.enableOverflow&&(n.layout={overflowHandler:"Menu"});(n.dock==="right"||n.dock==="left")&&(n.vertical=!0);n.layout=Ext.applyIf(Ext.isString(n.layout)?{type:n.layout}:n.layout||{},{type:n.vertical?"vbox":"hbox",align:n.vertical?"stretchmax":"middle"});n.vertical&&n.addClsWithUI("vertical");n.ui==="footer"&&(n.ignoreBorderManagement=!0);n.callParent();n.addEvents("overflowchange")},getRefItems:function(n){var i=this,r=i.callParent(arguments),u=i.layout,t;return n&&i.enableOverflow&&(t=u.overflowHandler,t&&t.menu&&(r=r.concat(t.menu.getRefItems(n)))),r},lookupComponent:function(n){var r=arguments,i,t;return typeof n=="string"&&(i=Ext.toolbar.Toolbar,t=i.shortcutsHV[this.vertical?1:0][n]||i.shortcuts[n],n=typeof t=="string"?{xtype:t}:t?Ext.apply({},t):{xtype:"tbtext",text:n},this.applyDefaults(n),r=[n]),this.callParent(r)},applyDefaults:function(n){return Ext.isString(n)||(n=this.callParent(arguments)),n},trackMenu:function(n,t){if(this.trackMenus&&n.menu){var r=t?"mun":"mon",i=this;i[r](n,"mouseover",i.onButtonOver,i);i[r](n,"menushow",i.onButtonMenuShow,i);i[r](n,"menuhide",i.onButtonMenuHide,i)}},onBeforeAdd:function(n){var t=this,i=n.isButton;i&&t.defaultButtonUI&&n.ui==="default"&&!n.hasOwnProperty("ui")?n.ui=t.defaultButtonUI:(i||n.isFormField)&&t.ui!=="footer"&&(n.ui=n.ui+"-toolbar",n.addCls(n.baseCls+"-toolbar"));n instanceof Ext.toolbar.Separator&&n.setUI(t.vertical?"vertical":"horizontal");t.callParent(arguments)},onAdd:function(n){this.callParent(arguments);this.trackMenu(n)},onRemove:function(n){this.callParent(arguments);this.trackMenu(n,!0)},getChildItemsToDisable:function(){return this.items.getRange()},onButtonOver:function(n){this.activeMenuBtn&&this.activeMenuBtn!=n&&(this.activeMenuBtn.hideMenu(),n.showMenu(),this.activeMenuBtn=n)},onButtonMenuShow:function(n){this.activeMenuBtn=n},onButtonMenuHide:function(){delete this.activeMenuBtn}})