Ext.define("Ext.picker.Color",{extend:"Ext.Component",requires:"Ext.XTemplate",alias:"widget.colorpicker",alternateClassName:"Ext.ColorPalette",componentCls:Ext.baseCSSPrefix+"color-picker",selectedCls:Ext.baseCSSPrefix+"color-picker-selected",itemCls:Ext.baseCSSPrefix+"color-picker-item",value:null,clickEvent:"click",allowReselect:!1,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],colorRe:/(?:^|\s)color-(.{6})(?:\s|$)/,renderTpl:['<tpl for="colors">','<a href="#" class="color-{.} {parent.itemCls}" hidefocus="on">','<span class="{parent.itemCls}-inner" style="background:#{.}">&#160;<\/span>',"<\/a>","<\/tpl>"],initComponent:function(){var n=this;if(n.callParent(arguments),n.addEvents("select"),n.handler)n.on("select",n.handler,n.scope,!0)},initRenderData:function(){var n=this;return Ext.apply(n.callParent(),{itemCls:n.itemCls,colors:n.colors})},onRender:function(){var n=this,t=n.clickEvent;n.callParent(arguments);n.mon(n.el,t,n.handleClick,n,{delegate:"a"});t!="click"&&n.mon(n.el,"click",Ext.emptyFn,n,{delegate:"a",stopEvent:!0})},afterRender:function(){var n=this,t;n.callParent(arguments);n.value&&(t=n.value,n.value=null,n.select(t,!0))},handleClick:function(n,t){var i=this,r;n.stopEvent();i.disabled||(r=t.className.match(i.colorRe)[1],i.select(r.toUpperCase()))},select:function(n,t){var i=this,u=i.selectedCls,f=i.value,r;if(n=n.replace("#",""),!i.rendered){i.value=n;return}(n!=f||i.allowReselect)&&(r=i.el,i.value&&r.down("a.color-"+f).removeCls(u),r.down("a.color-"+n).addCls(u),i.value=n,t!==!0&&i.fireEvent("select",i,n))},clear:function(){var n=this,t=n.value,i;t&&n.rendered&&(i=n.el.down("a.color-"+t),i.removeCls(n.selectedCls));n.value=null},getValue:function(){return this.value||null}})