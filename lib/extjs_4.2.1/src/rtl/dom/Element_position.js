Ext.define("Ext.rtl.dom.Element_position",{override:"Ext.dom.Element",_positionTopRight:["position","top","right"],statics:{getXY:function(n){var t=document,u=t.body,e=t.documentElement,o=0,s=0,h=[0,0],f,i,r;if(n=Ext.getDom(n),n!==t&&n!==u){if(Ext.isIE)try{i=n.getBoundingClientRect();s=e.clientTop||u.clientTop;o=e.clientLeft||u.clientLeft}catch(c){i={left:0,top:0}}else i=n.getBoundingClientRect();t=Ext.fly(document,"_getXY");Ext.rootHierarchyState.rtl?(r=t.rtlGetScroll(),f=Ext.Element.getViewportWidth()-i.right+r.left):(r=t.getScroll(),f=i.left+r.left);h=[Math.round(f-o),Math.round(i.top+r.top-s)]}return h},setXY:function(n,t){(n=Ext.fly(n,"_setXY")).position();var r=n.translatePoints(t),u=n.dom.style,i;u[Ext.rootHierarchyState.rtl?"left":"right"]="auto";for(i in r)isNaN(r[i])||(u[i]=r[i]+"px")}},getPositioning:function(n){var r=Ext.rootHierarchyState.rtl?"right":"left",t=this.getStyle([r,"top","position","z-index"]),i=this.dom;return n&&(t[r]==="auto"&&(t[r]=r==="left"?i.offsetLeft+"px":i.offsetParent.offsetWidth-i.offsetLeft-i.offsetWidth),t.top==="auto"&&(t.top=i.offsetTop+"px")),t},rtlGetLocalX:function(){var t=this,i=t.dom.offsetParent,n=t.getStyle("right");return n&&n!=="auto"?t.pxRe.test(n)?n=parseFloat(n):(n=t.getX(),i&&(n-=Ext.fly(i,"_rtlGetLocalX").getX())):n=0,n},rtlGetLocalXY:function(){var i=this,r=i.dom.offsetParent,u=i.getStyle(["right","top"]),n=u.right,t=u.top;return n&&n!=="auto"?i.pxRe.test(n)?n=parseFloat(n):(n=i.getX(),r&&(n-=Ext.fly(r,"_rtlGetLocalXY").getX())):n=0,t&&t!=="auto"?i.pxRe.test(t)?t=parseFloat(t):(t=i.getY(),r&&(t-=Ext.Element.getY(r))):t=0,[n,t]},rtlSetLocalX:function(n){var t=this.dom.style;t.left="auto";t.right=n===null?"auto":n+"px"},rtlSetLocalXY:function(n,t){var i=this.dom.style;i.left="auto";n&&n.length&&(t=n[1],n=n[0]);n===null?i.right="auto":n!==undefined&&(i.right=n+"px");t===null?i.top="auto":t!==undefined&&(i.top=t+"px")},rtlSetX:function(n,t){return this.rtlSetXY([n,this.getY()],t)},rtlSetXY:function(n,t){var i=this,r,f,u;if(t&&i.anim)Ext.isObject(t)||(t={}),i.animate(Ext.applyIf({to:{x:n[0],y:n[1]}},t));else{r=i.rtlTranslatePoints(n);f=i.dom.style;f.left="auto";for(u in r)isNaN(r[u])||(f[u]=r[u]+"px")}return i},rtlSetY:function(n,t){return this.rtlSetXY([this.getX(),n],t)},rtlTranslatePoints:function(n,t){var i=this.rtlTranslateXY(n,t);return{right:i.x,top:i.y}},rtlTranslateXY:function(n,t){var i=this,e=i.getStyle(i._positionTopRight),a=e.position=="relative",r=parseFloat(e.right),u=parseFloat(e.top),c=i.getXY(),o=i.dom,s,h,l,f;return n&&n.length&&(t=n[1],n=n[0]),isNaN(r)&&(s=document,h=s.body,o===h?r=0:(f=o.offsetParent,l=f&&f!==h&&f!==s.documentElement?f.scrollWidth:Ext.Element.getViewportWidth(),r=l-o.offsetLeft-i.getWidth())),isNaN(u)&&(u=a?0:i.dom.offsetTop),r=typeof n=="number"?n-c[0]+r:undefined,u=typeof t=="number"?t-c[1]+u:undefined,{x:r,y:u}},setX:function(n,t){return Ext.rootHierarchyState.rtl?this.rtlSetX(n,t):this.callParent(arguments)},setXY:function(n,t){return Ext.rootHierarchyState.rtl?this.rtlSetXY(n,t):this.callParent(arguments)},setY:function(n,t){return Ext.rootHierarchyState.rtl?this.rtlSetY(n,t):this.callParent(arguments)},translatePoints:function(n,t){return Ext.rootHierarchyState.rtl?this.rtlTranslatePoints(n,t):this.callParent(arguments)},translateXY:function(n,t){return Ext.rootHierarchyState.rtl?this.rtlTranslateXY(n,t):this.callParent(arguments)}})