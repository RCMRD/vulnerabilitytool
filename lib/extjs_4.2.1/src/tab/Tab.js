Ext.define("Ext.tab.Tab",{extend:"Ext.button.Button",alias:"widget.tab",requires:["Ext.util.KeyNav"],isTab:!0,baseCls:Ext.baseCSSPrefix+"tab",closeElOverCls:Ext.baseCSSPrefix+"tab-close-btn-over",activeCls:"active",closableCls:"closable",closable:!0,closeText:"Close Tab",active:!1,childEls:["closeEl"],scale:!1,position:"top",initComponent:function(){var n=this;n.addEvents("activate","deactivate","beforeclose","close");n.callParent(arguments);n.card&&n.setCard(n.card);n.overCls=["over",n.position+"-over"]},getTemplateArgs:function(){var n=this,t=n.callParent();return t.closable=n.closable,t.closeText=n.closeText,t},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this.position},beforeRender:function(){var n=this,t=n.up("tabbar"),i=n.up("tabpanel");n.callParent();n.addClsWithUI(n.position);n.active&&n.addClsWithUI([n.activeCls,n.position+"-"+n.activeCls]);n.syncClosableUI();n.minWidth||(n.minWidth=t?t.minTabWidth:n.minWidth,!n.minWidth&&i&&(n.minWidth=i.minTabWidth),n.minWidth&&n.iconCls&&(n.minWidth+=25));n.maxWidth||(n.maxWidth=t?t.maxTabWidth:n.maxWidth,!n.maxWidth&&i&&(n.maxWidth=i.maxTabWidth))},onRender:function(){var n=this;n.setElOrientation();n.callParent(arguments);n.closable&&n.closeEl.addClsOnOver(n.closeElOverCls);n.keyNav=new Ext.util.KeyNav(n.el,{enter:n.onEnterKey,del:n.onDeleteKey,scope:n})},setElOrientation:function(){var n=this.position;(n==="left"||n==="right")&&this.el.setVertical(n==="right"?90:270)},enable:function(){var n=this;return n.callParent(arguments),n.removeClsWithUI(n.position+"-disabled"),n},disable:function(){var n=this;return n.callParent(arguments),n.addClsWithUI(n.position+"-disabled"),n},onDestroy:function(){var n=this;Ext.destroy(n.keyNav);delete n.keyNav;n.callParent(arguments)},setClosable:function(n){var t=this;n=!arguments.length||!!n;t.closable!=n&&(t.closable=n,t.card&&(t.card.closable=n),t.syncClosableUI(),t.rendered&&(t.syncClosableElements(),t.updateLayout()))},syncClosableElements:function(){var n=this,t=n.closeEl;n.closable?(t||(t=n.closeEl=n.btnWrap.insertSibling({tag:"a",cls:n.baseCls+"-close-btn",href:"#",title:n.closeText},"after")),t.addClsOnOver(n.closeElOverCls)):t&&(t.remove(),delete n.closeEl)},syncClosableUI:function(){var n=this,t=[n.closableCls,n.closableCls+"-"+n.position];n.closable?n.addClsWithUI(t):n.removeClsWithUI(t)},setCard:function(n){var t=this;t.card=n;t.setText(t.title||n.title);t.setIconCls(t.iconCls||n.iconCls);t.setIcon(t.icon||n.icon);t.setGlyph(t.glyph||n.glyph)},onCloseClick:function(){var n=this;if(n.fireEvent("beforeclose",n)!==!1)if(n.tabBar){if(n.tabBar.closeTab(n)===!1)return}else n.fireClose()},fireClose:function(){this.fireEvent("close",this)},onEnterKey:function(n){var t=this;if(t.tabBar)t.tabBar.onClick(n,t.el)},onDeleteKey:function(){this.closable&&this.onCloseClick()},activate:function(n){var t=this;t.active=!0;t.addClsWithUI([t.activeCls,t.position+"-"+t.activeCls]);n!==!0&&t.fireEvent("activate",t)},deactivate:function(n){var t=this;t.active=!1;t.removeClsWithUI([t.activeCls,t.position+"-"+t.activeCls]);n!==!0&&t.fireEvent("deactivate",t)}})