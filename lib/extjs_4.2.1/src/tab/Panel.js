Ext.define("Ext.tab.Panel",{extend:"Ext.panel.Panel",alias:"widget.tabpanel",alternateClassName:["Ext.TabPanel"],requires:["Ext.layout.container.Card","Ext.tab.Bar"],tabPosition:"top",removePanelHeader:!0,plain:!1,itemCls:Ext.baseCSSPrefix+"tabpanel-child",minTabWidth:undefined,maxTabWidth:undefined,deferredRender:!0,initComponent:function(){var n=this,i=[].concat(n.dockedItems||[]),t=n.activeTab||(n.activeTab=0),r=n.tabPosition;n.layout=new Ext.layout.container.Card(Ext.apply({owner:n,deferredRender:n.deferredRender,itemCls:n.itemCls,activeItem:t},n.layout));n.tabBar=new Ext.tab.Bar(Ext.apply({ui:n.ui,dock:n.tabPosition,orientation:r=="top"||r=="bottom"?"horizontal":"vertical",plain:n.plain,cardLayout:n.layout,tabPanel:n},n.tabBar));i.push(n.tabBar);n.dockedItems=i;n.addEvents("beforetabchange","tabchange");n.callParent(arguments);t=n.activeTab=n.getComponent(t);t&&n.tabBar.setActiveTab(t.tab,!0)},setActiveTab:function(n){var t=this,i;return n=t.getComponent(n),n?(i=t.getActiveTab(),i!==n&&t.fireEvent("beforetabchange",t,n,i)===!1)?!1:(n.isComponent||(Ext.suspendLayouts(),n=t.add(n),Ext.resumeLayouts()),t.activeTab=n,Ext.suspendLayouts(),t.layout.setActiveItem(n),n=t.activeTab=t.layout.getActiveItem(),n&&n!==i?(t.tabBar.setActiveTab(n.tab),Ext.resumeLayouts(!0),i!==n&&t.fireEvent("tabchange",t,n,i)):Ext.resumeLayouts(!0),n):void 0},getActiveTab:function(){var n=this,t=n.getComponent(n.activeTab);return n.activeTab=t&&n.items.indexOf(t)!=-1?t:null,n.activeTab},getTabBar:function(){return this.tabBar},onAdd:function(n,t){var i=this,r=n.tabConfig||{},u={xtype:"tab",ui:i.tabBar.ui,card:n,disabled:n.disabled,closable:n.closable,hidden:n.hidden&&!n.hiddenByLayout,tooltip:n.tooltip,tabBar:i.tabBar,position:i.tabPosition,closeText:n.closeText};r=Ext.applyIf(r,u);n.tab=i.tabBar.insert(t,r);n.on({scope:i,enable:i.onItemEnable,disable:i.onItemDisable,beforeshow:i.onItemBeforeShow,iconchange:i.onItemIconChange,iconclschange:i.onItemIconClsChange,titlechange:i.onItemTitleChange});n.isPanel&&(i.removePanelHeader&&(n.rendered?n.header&&n.header.hide():n.header=!1),n.isPanel&&i.border&&n.setBorder(!1))},onItemEnable:function(n){n.tab.enable()},onItemDisable:function(n){n.tab.disable()},onItemBeforeShow:function(n){if(n!==this.activeTab)return this.setActiveTab(n),!1},onItemIconChange:function(n,t){n.tab.setIcon(t)},onItemIconClsChange:function(n,t){n.tab.setIconCls(t)},onItemTitleChange:function(n,t){n.tab.setText(t)},doRemove:function(n){var t=this,i;t.destroying||t.items.getCount()==1?t.activeTab=null:(i=t.tabBar.items.indexOf(t.tabBar.findNextActivatable(n.tab)))!==-1&&t.setActiveTab(i);this.callParent(arguments);delete n.tab.card;delete n.tab},onRemove:function(n){var t=this;n.un({scope:t,enable:t.onItemEnable,disable:t.onItemDisable,beforeshow:t.onItemBeforeShow});t.destroying||n.tab.ownerCt!==t.tabBar||t.tabBar.remove(n.tab)}})