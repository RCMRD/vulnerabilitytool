Ext.define("Ext.draw.Component",{alias:"widget.draw",extend:"Ext.Component",requires:["Ext.draw.Surface","Ext.layout.component.Draw"],enginePriority:["Svg","Vml"],baseCls:Ext.baseCSSPrefix+"surface",componentLayout:"draw",viewBox:!0,shrinkWrap:3,autoSize:!1,initComponent:function(){this.callParent(arguments);this.addEvents("mousedown","mouseup","mousemove","mouseenter","mouseleave","click","dblclick")},onRender:function(){var n=this,o=n.viewBox,s=n.autoSize,t,i,r,u,f,e;n.callParent(arguments);n.createSurface()!==!1&&(i=n.surface.items,(o||s)&&(t=i.getBBox(),r=t.width,u=t.height,f=t.x,e=t.y,n.viewBox?n.surface.setViewBox(f,e,r,u):n.autoSizeSurface()))},autoSizeSurface:function(){var n=this.surface.items.getBBox();this.setSurfaceSize(n.width,n.height)},setSurfaceSize:function(n,t){if(this.surface.setSize(n,t),this.autoSize){var i=this.surface.items.getBBox();this.surface.setViewBox(i.x,i.y-+Ext.isOpera,n,t)}},createSurface:function(){function t(t){return function(i){n.fireEvent(t,i)}}var n=this,i=Ext.applyIf({renderTo:n.el,height:n.height,width:n.width,items:n.items},n.initialConfig),r;if(delete i.listeners,i.gradients||(i.gradients=n.gradients),r=Ext.draw.Surface.create(i,n.enginePriority),!r)return!1;n.surface=r;r.on({scope:n,mouseup:t("mouseup"),mousedown:t("mousedown"),mousemove:t("mousemove"),mouseenter:t("mouseenter"),mouseleave:t("mouseleave"),click:t("click"),dblclick:t("dblclick")})},onDestroy:function(){Ext.destroy(this.surface);this.callParent(arguments)}})