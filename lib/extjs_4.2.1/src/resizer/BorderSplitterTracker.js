Ext.define("Ext.resizer.BorderSplitterTracker",{extend:"Ext.resizer.SplitterTracker",requires:["Ext.util.Region"],getPrevCmp:null,getNextCmp:null,calculateConstrainRegion:function(){var f=this,r=f.splitter,h=r.collapseTarget,a=r.defaultSplitMin,c=r.vertical?"Width":"Height",v="min"+c,y="max"+c,nt="get"+c,p=r.neighbors,tt=p.length,i=h.el.getBox(),w=i.x,b=i.y,k=i.right,d=i.bottom,t=r.vertical?k-w:d-b,e,o,u,n,s,l,g;for(u=(h[v]||Math.min(t,a))-t,n=h[y],n?n-=t:n=1e9,g=t,e=0;e<tt;++e)o=p[e],t=o[nt](),s=t-o[y],l=t-(o[v]||Math.min(t,a)),isNaN(s)||u<s&&(u=s),n>l&&(n=l);return n-u<2?null:(i=new Ext.util.Region(b,k,d,w),f.constraintAdjusters[f.getCollapseDirection()](i,u,n,r),f.dragInfo={minRange:u,maxRange:n,targetSize:g},i)},constraintAdjusters:{left:function(n,t,i,r){n[0]=n.x=n.left=n.right+t;n.right+=i+r.getWidth()},top:function(n,t,i,r){n[1]=n.y=n.top=n.bottom+t;n.bottom+=i+r.getHeight()},bottom:function(n,t,i,r){n.bottom=n.top-t;n.top-=i+r.getHeight()},right:function(n,t,i,r){n.right=n.left-t;n[0]=n.x=n.left=n.x-i+r.getWidth()}},onBeforeStart:function(n){var t=this,r=t.splitter,f=r.collapseTarget,e=r.neighbors,o=t.getSplitter().collapseEl,s=n.getTarget(),h=e.length,i,u;if(o&&s===r.collapseEl.dom||f.collapsed)return!1;for(i=0;i<h;++i)if(u=e[i],u.collapsed&&u.isHorz===f.isHorz)return!1;return(t.constrainTo=t.calculateConstrainRegion())?!0:!1},performResize:function(n,t){var u=this,r=u.splitter,e=r.getCollapseDirection(),h=r.collapseTarget,o=u.splitAdjusters[r.vertical?"horz":"vert"],i=t[o.index],f=u.dragInfo,s;(e=="right"||e=="bottom")&&(i=-i);i=Math.min(Math.max(f.minRange,i),f.maxRange);i&&((s=r.ownerCt).suspendLayouts(),o.adjustTarget(h,f.targetSize,i),s.resumeLayouts(!0))},splitAdjusters:{horz:{index:0,adjustTarget:function(n,t,i){n.flex=null;n.setSize(t+i)}},vert:{index:1,adjustTarget:function(n,t,i){n.flex=null;n.setSize(undefined,t+i)}}},getCollapseDirection:function(){return this.splitter.getCollapseDirection()}})