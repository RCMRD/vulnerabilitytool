Ext.define("Ext.flash.Component",{extend:"Ext.Component",alternateClassName:"Ext.FlashComponent",alias:"widget.flash",flashVersion:"9.0.115",backgroundColor:"#ffffff",wmode:"opaque",swfWidth:"100%",swfHeight:"100%",expressInstall:!1,renderTpl:['<div id="{swfId}"><\/div>'],initComponent:function(){"swfobject"in window||Ext.Error.raise("The SWFObject library is not loaded. Ext.flash.Component requires SWFObject version 2.2 or later: http://code.google.com/p/swfobject/");this.url||Ext.Error.raise('The "url" config is required for Ext.flash.Component');this.callParent();this.addEvents("success","failure")},beforeRender:function(){this.callParent();Ext.applyIf(this.renderData,{swfId:this.getSwfId()})},afterRender:function(){var n=this,t=Ext.apply({},n.flashParams),i=Ext.apply({},n.flashVars);n.callParent();t=Ext.apply({allowScriptAccess:"always",bgcolor:n.backgroundColor,wmode:n.wmode},t);i=Ext.apply({allowedDomain:document.location.hostname},i);new swfobject.embedSWF(n.url,n.getSwfId(),n.swfWidth,n.swfHeight,n.flashVersion,n.expressInstall?n.statics.EXPRESS_INSTALL_URL:undefined,i,t,n.flashAttributes,Ext.bind(n.swfCallback,n))},swfCallback:function(n){var t=this;n.success?(t.swf=Ext.get(n.ref),t.onSuccess(),t.fireEvent("success",t)):(t.onFailure(),t.fireEvent("failure",t))},getSwfId:function(){return this.swfId||(this.swfId="extswf"+this.getAutoId())},onSuccess:function(){this.swf.setStyle("visibility","inherit")},onFailure:Ext.emptyFn,beforeDestroy:function(){var n=this,t=n.swf;t&&(swfobject.removeSWF(n.getSwfId()),Ext.destroy(t),delete n.swf);n.callParent()},statics:{EXPRESS_INSTALL_URL:"http://swfobject.googlecode.com/svn/trunk/swfobject/expressInstall.swf"}})