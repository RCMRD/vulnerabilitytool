Ext.define("Ext.layout.container.Card",{extend:"Ext.layout.container.Fit",alternateClassName:"Ext.layout.CardLayout",alias:"layout.card",type:"card",hideInactive:!0,deferredRender:!1,getRenderTree:function(){var t=this,n=t.getActiveItem();if(n){if(n.hasListeners.beforeactivate&&n.fireEvent("beforeactivate",n)===!1)n=t.activeItem=t.owner.activeItem=null;else if(n.hasListeners.activate)n.on({boxready:function(){n.fireEvent("activate",n)},single:!0});if(t.deferredRender){if(n)return t.getItemsRenderTree([n])}else return t.callParent(arguments)}},renderChildren:function(){var n=this,t=n.getActiveItem();n.deferredRender?t&&n.renderItems([t],n.getRenderTarget()):n.callParent()},isValidParent:function(n,t){var i=n.el?n.el.dom:Ext.getDom(n);return i&&i.parentNode===(t.dom||t)||!1},getActiveItem:function(){var n=this,t=n.parseActiveItem(n.activeItem||n.owner&&n.owner.activeItem);return n.activeItem=t&&n.owner.items.indexOf(t)!=-1?t:null,n.activeItem},parseActiveItem:function(n){return n&&n.isComponent?n:typeof n=="number"||n===undefined?this.getLayoutItems()[n||0]:this.owner.getComponent(n)},configureItem:function(n){n.hidden=n===this.getActiveItem()?!1:!0;this.callParent(arguments)},onRemove:function(n){var t=this;n===t.activeItem&&(t.activeItem=null)},getAnimation:function(n,t){var i=(n||{}).cardSwitchAnimation;return i===!1?!1:i||t.cardSwitchAnimation},getNext:function(){var t=arguments[0],n=this.getLayoutItems(),i=Ext.Array.indexOf(n,this.activeItem);return n[i+1]||(t?n[0]:!1)},next:function(){var n=arguments[0],t=arguments[1];return this.setActiveItem(this.getNext(t),n)},getPrev:function(){var t=arguments[0],n=this.getLayoutItems(),i=Ext.Array.indexOf(n,this.activeItem);return n[i-1]||(t?n[n.length-1]:!1)},prev:function(){var n=arguments[0],t=arguments[1];return this.setActiveItem(this.getPrev(t),n)},setActiveItem:function(n){var i=this,r=i.owner,t=i.activeItem,f=r.rendered,u;return(n=i.parseActiveItem(n),u=r.items.indexOf(n),u==-1&&(u=r.items.items.length,Ext.suspendLayouts(),n=r.add(n),Ext.resumeLayouts()),n&&t!=n)?n.fireEvent("beforeactivate",n,t)===!1?!1:t&&t.fireEvent("beforedeactivate",t,n)===!1?!1:(f?(Ext.suspendLayouts(),n.rendered||i.renderItem(n,i.getRenderTarget(),r.items.length),t&&(i.hideInactive&&(t.hide(),t.hiddenByLayout=!0),t.fireEvent("deactivate",t,n)),n.hidden&&n.show(),n.hidden||(i.activeItem=n),Ext.resumeLayouts(!0)):i.activeItem=n,n.fireEvent("activate",n,t),i.activeItem):!1}})