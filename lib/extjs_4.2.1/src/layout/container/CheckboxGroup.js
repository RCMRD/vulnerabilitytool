Ext.define("Ext.layout.container.CheckboxGroup",{extend:"Ext.layout.container.Container",alias:["layout.checkboxgroup"],autoFlex:!0,type:"checkboxgroup",createsInnerCt:!0,childEls:["innerCt"],renderTpl:['<table id="{ownerId}-innerCt" class="'+Ext.plainTableCls+'" cellpadding="0"','role="presentation" style="{tableStyle}"><tbody><tr>','<tpl for="columns">','<td class="{parent.colCls}" valign="top" style="{style}">',"{% this.renderColumn(out,parent,xindex-1) %}","<\/td>","<\/tpl>","<\/tr><\/tbody><\/table>"],lastOwnerItemsGeneration:null,beginLayout:function(n){var i=this,e,f,t,u,o,h=0,s=0,c=i.autoFlex,r=i.innerCt.dom.style;if(i.callParent(arguments),e=i.columnNodes,n.innerCtContext=n.getEl("innerCt",i),n.widthModel.shrinkWrap)r.tableLayout="auto",r.width="";else{if(f=e.length,i.columnsArray){for(t=0;t<f;t++)u=i.owner.columns[t],u<1&&(h+=u,s++);for(t=0;t<f;t++)u=i.owner.columns[t],o=u<1?u/h*100+"%":u+"px",e[t].style.width=o}else for(t=0;t<f;t++)o=c?100/f+"%":"",e[t].style.width=o,s++;s?s<f?(r.tableLayout="fixed",r.width="100%"):(r.tableLayout="auto",r.width=c?"100%":""):(r.tableLayout="fixed",r.width="")}},cacheElements:function(){var n=this;n.callParent();n.rowEl=n.innerCt.down("tr");n.columnNodes=n.rowEl.dom.childNodes},calculate:function(n){var o=this,t,i,r,e,u,f;n.getDomProp("containerChildrenSizeDone")?(t=n.innerCtContext,i=n.widthModel.shrinkWrap,r=n.heightModel.shrinkWrap,e=r||i,u=t.el.dom,f=e&&t.getPaddingInfo(),i&&n.setContentWidth(u.offsetWidth+f.width,!0),r&&n.setContentHeight(u.offsetHeight+f.height,!0)):o.done=!1},doRenderColumn:function(n,t,i){var s=t.$layout,h=s.owner,c=t.columnCount,l=h.items.items,u=l.length,f,r,e,o,a;for(h.vertical?(e=Math.ceil(u/c),r=i*e,u=Math.min(u,r+e),o=1):(r=i,o=c);r<u;r+=o)f=l[r],s.configureItem(f),a=f.getRenderTree(),Ext.DomHelper.generateMarkup(a,n)},getColumnCount:function(){var t=this,i=t.owner,n=i.columns;return t.columnsArray?n.length:Ext.isNumber(n)?n:i.items.length},getItemSizePolicy:function(){return this.autoSizePolicy},getRenderData:function(){var t=this,r=t.callParent(),h=t.owner,n,u=t.getColumnCount(),i,e,o,c=t.autoFlex,s=0,f=0;if(t.columnsArray)for(n=0;n<u;n++)i=t.owner.columns[n],i<1&&(s+=i,f++);for(r.colCls=h.groupCls,r.columnCount=u,r.columns=[],n=0;n<u;n++)e=r.columns[n]={},t.columnsArray?(i=t.owner.columns[n],o=i<1?i/s*100+"%":i+"px",e.style="width:"+o):(e.style="width:"+100/u+"%",f++);return r.tableStyle=f?f<u?"table-layout:fixed;width:100%":c?"table-layout:auto;width:100%":"table-layout:auto;":"table-layout:fixed;",r},initLayout:function(){var n=this,t=n.owner;n.columnsArray=Ext.isArray(t.columns);n.autoColumns=!t.columns||t.columns==="auto";n.vertical=t.vertical;n.callParent()},isValidParent:function(){return!0},setupRenderTpl:function(n){this.callParent(arguments);n.renderColumn=this.doRenderColumn},renderChildren:function(){var n=this,t=n.owner.items.generation;n.lastOwnerItemsGeneration!==t&&(n.lastOwnerItemsGeneration=t,n.renderItems(n.getLayoutItems()))},renderItems:function(n){var t=this,r=n.length,i,u,s,f,e,o;if(r){for(Ext.suspendLayouts(),t.autoColumns&&t.addMissingColumns(r),f=t.columnNodes.length,s=Math.ceil(r/f),i=0;i<r;i++)u=n[i],e=t.getRenderRowIndex(i,s,f),o=t.getRenderColumnIndex(i,s,f),u.rendered?t.isItemAtPosition(u,e,o)||t.moveItem(u,e,o):t.renderItem(u,e,o);t.autoColumns&&t.removeExceedingColumns(r);Ext.resumeLayouts(!0)}},isItemAtPosition:function(n,t,i){return n.el.dom===this.getNodeAt(t,i)},getRenderColumnIndex:function(n,t,i){return this.vertical?Math.floor(n/t):n%i},getRenderRowIndex:function(n,t,i){var r=this;return r.vertical?n%t:Math.floor(n/i)},getNodeAt:function(n,t){return this.columnNodes[t].childNodes[n]},addMissingColumns:function(n){var t=this,r=t.columnNodes.length,u,f,e,i;if(r<n)for(u=n-r,f=t.rowEl,e=t.owner.groupCls,i=0;i<u;i++)f.createChild({cls:e,tag:"td",vAlign:"top"})},removeExceedingColumns:function(n){var i=this,r=i.columnNodes.length,u,f,t;if(r>n)for(u=r-n,f=i.rowEl,t=0;t<u;t++)f.last().remove()},renderItem:function(n,t,i){var r=this;r.configureItem(n);n.render(Ext.get(r.columnNodes[i]),t);r.afterRenderItem(n)},moveItem:function(n,t,i){var u=this,r=u.columnNodes[i],f=r.childNodes[t];r.insertBefore(n.el.dom,f||null)}})