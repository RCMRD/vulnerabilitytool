Ext.define("Ext.layout.component.Button",{alias:["layout.button"],extend:"Ext.layout.component.Auto",type:"button",htmlRE:/<.*>/,beginLayout:function(n){var t=this,i=t.owner,r=i.text;t.callParent(arguments);n.btnWrapContext=n.getEl("btnWrap");n.btnElContext=n.getEl("btnEl");n.btnInnerElContext=n.getEl("btnInnerEl");n.btnIconElContext=n.getEl("btnIconEl");r&&t.htmlRE.test(r)&&(n.isHtmlText=!0,i.btnInnerEl.setStyle("line-height","normal"),i.btnInnerEl.setStyle("padding-top",""))},beginLayoutCycle:function(n){var t=this.owner,i=this.lastWidthModel;this.callParent(arguments);i&&!this.lastWidthModel.shrinkWrap&&n.widthModel.shrinkWrap&&(t.btnWrap.setStyle("height",""),t.btnEl.setStyle("height",""),t.btnInnerEl.setStyle("line-height",""))},calculate:function(n){var r=this,t=r.owner,c=n.btnElContext,s=n.btnInnerElContext,h=n.btnWrapContext,f=Math.max,u,e,i,o;r.callParent(arguments);n.heightModel.shrinkWrap?(i=t.btnEl.getHeight(),n.isHtmlText&&(r.centerInnerEl(n,i),r.ieCenterIcon(n,i))):(u=n.getProp("height"),u?(e=u-n.getFrameInfo().height-n.getPaddingInfo().height,i=e,(t.menu||t.split)&&t.arrowAlign==="bottom"&&(i-=h.getPaddingInfo().bottom),o=i,(t.icon||t.iconCls||t.glyph)&&(t.iconAlign==="top"||t.iconAlign==="bottom")&&(o-=s.getPaddingInfo().height),h.setProp("height",f(0,e)),c.setProp("height",f(0,i)),n.isHtmlText?r.centerInnerEl(n,i):s.setProp("line-height",f(0,o)+"px"),r.ieCenterIcon(n,i)):u!==0&&(r.done=!1))},centerInnerEl:function(n,t){var u=this,r=n.btnInnerElContext,i=u.owner.btnInnerEl.getHeight();n.heightModel.shrinkWrap&&t<i?n.btnElContext.setHeight(i):t>i&&r.setProp("padding-top",Math.round((t-i)/2)+r.getPaddingInfo().top)},ieCenterIcon:function(n,t){var i=this.owner.iconAlign;(Ext.isIEQuirks||Ext.isIE6)&&(i==="left"||i==="right")&&n.btnIconElContext.setHeight(t)},publishInnerWidth:function(n,t){this.owner.getFrameInfo().table&&n.btnInnerElContext.setWidth(t-n.getFrameInfo().width-n.getPaddingInfo().width-n.btnWrapContext.getPaddingInfo().width)}})