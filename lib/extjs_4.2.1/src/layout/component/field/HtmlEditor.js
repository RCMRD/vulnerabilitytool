Ext.define("Ext.layout.component.field.HtmlEditor",{extend:"Ext.layout.component.field.FieldContainer",alias:["layout.htmleditor"],type:"htmleditor",naturalHeight:150,naturalWidth:300,beginLayout:function(n){var t=this.owner,i;Ext.isGecko&&(i=t.textareaEl.dom,this.lastValue=i.value,i.value="");this.callParent(arguments);n.toolbarContext=n.context.getCmp(t.toolbar);n.inputCmpContext=n.context.getCmp(t.inputCmp);n.textAreaContext=n.getEl("textareaEl");n.iframeContext=n.getEl("iframeEl")},beginLayoutCycle:function(n){var t=this,i=n.widthModel,r=n.heightModel,u=t.owner,f=u.iframeEl,e=u.textareaEl;t.callParent(arguments);i.shrinkWrap?(f.setStyle("width",""),e.setStyle("width","")):i.natural&&n.bodyCellContext.setWidth(t.naturalWidth);(r.natural||r.shrinkWrap)&&(f.setHeight(t.naturalHeight),e.setHeight(t.naturalHeight))},finishedLayout:function(){var n=this.owner;this.callParent(arguments);Ext.isIE9m&&Ext.isIEQuirks&&n.el.repaint();Ext.isGecko&&(n.textareaEl.dom.value=this.lastValue)},publishOwnerWidth:function(n,t){this.callParent(arguments);t-=n.inputCmpContext.getBorderInfo().width;n.textAreaContext.setWidth(t);n.iframeContext.setWidth(t)},publishInnerWidth:function(n,t){var r=n.inputCmpContext.getBorderInfo().width,i=Ext.isStrict&&Ext.isIE8m,u=n.widthModel.natural;this.callParent(arguments);t=n.bodyCellContext.props.width-r;u?(i&&(t-=2),n.textAreaContext.setWidth(t),n.iframeContext.setWidth(t)):i&&n.textAreaContext.setWidth(t)},publishInnerHeight:function(n,t){var i=n.toolbarContext.getProp("height"),r=this.owner.sourceEditMode;this.callParent(arguments);t=n.bodyCellContext.props.height;i!==undefined?(t-=i+n.inputCmpContext.getFrameInfo().height,Ext.isIE8&&Ext.isStrict?t-=2:Ext.isIEQuirks&&(Ext.isIE8||Ext.isIE9)&&(t-=4),n.iframeContext.setHeight(t),n.textAreaContext.setHeight(t)):this.done=!1}})