Ext.define("Ext.layout.component.Component",{extend:"Ext.layout.Layout",type:"component",isComponentLayout:!0,nullBox:{},usesContentHeight:!0,usesContentWidth:!0,usesHeight:!0,usesWidth:!0,beginLayoutCycle:function(n,t){var r=this,u=r.owner,y=n.ownerCtContext,e=n.heightModel,o=n.widthModel,c=u.el.dom===document.body,s=u.lastBox||r.nullBox,f=u.el.lastBox||r.nullBox,h=!c,l,i,a,v;r.callParent(arguments);t&&(r.usesContentWidth&&++n.consumersContentWidth,r.usesContentHeight&&++n.consumersContentHeight,r.usesWidth&&++n.consumersWidth,r.usesHeight&&++n.consumersHeight,y&&!y.hasRawContent&&(l=u.ownerLayout,l.usesWidth&&++n.consumersWidth,l.usesHeight&&++n.consumersHeight));o.configured?(a=o.names.width,c||(h=t?u[a]!==f.width:o.constrained),n.setWidth(u[a],h)):n.isTopLevel&&(o.calculated&&(i=s.width,n.setWidth(i,i!=f.width)),i=s.x,n.setProp("x",i,i!=f.x));e.configured?(v=e.names.height,c||(h=t?u[v]!==f.height:e.constrained),n.setHeight(u[v],h)):n.isTopLevel&&(e.calculated&&(i=s.height,n.setHeight(i,i!=f.height)),i=s.y,n.setProp("y",i,i!=f.y))},finishedLayout:function(n){var r=this,f=n.children,e=r.owner,s,u,o,t,i;if(f)for(s=f.length,u=0;u<s;u++)o=f[u],o.el.lastBox=o.props;n.previousSize=r.lastComponentSize;r.lastComponentSize=e.el.lastBox=i=n.props;t=e.lastBox||(e.lastBox={});t.x=i.x;t.y=i.y;t.width=i.width;t.height=i.height;t.invalid=!1;r.callParent(arguments)},notifyOwner:function(n){var t=this,r=t.lastComponentSize,i=n.previousSize,u=[r.width,r.height];i&&u.push(i.width,i.height);t.owner.afterComponentLayout.apply(t.owner,u)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(n){var t=this,i=t.targetInfo,r;return i||(r=n.getEl("getTarget",t),t.targetInfo=i={padding:r.getPaddingInfo(),border:r.getBorderInfo()}),i},measureAutoDimensions:function(n,t){var h=this,b=h.owner,o=b.layout,k=n.heightModel,p=n.widthModel,f=n.boxParent,l=n.isBoxParent,a=n.props,w,i={gotWidth:!1,gotHeight:!1,isContainer:w=!n.hasRawContent},d=t||3,v,y,c=0,r=0,e,u,s;return p.shrinkWrap&&n.consumersContentWidth?(++c,v=!(d&1),w?v?(i.contentWidth=0,i.gotWidth=!0,++r):(i.contentWidth=n.getProp("contentWidth"))!==undefined&&(i.gotWidth=!0,++r):(u=a.contentWidth,typeof u=="number"?(i.contentWidth=u,i.gotWidth=!0,++r):(e=v?!0:n.hasDomProp("containerChildrenSizeDone")?l||!f||f.widthModel.shrinkWrap?!0:f.hasDomProp("width"):!1,e&&(s=v?0:o&&o.measureContentWidth?o.measureContentWidth(n):h.measureContentWidth(n),isNaN(i.contentWidth=s)||(n.setContentWidth(s,!0),i.gotWidth=!0,++r))))):p.natural&&n.consumersWidth&&(++c,u=a.width,typeof u=="number"?(i.width=u,i.gotWidth=!0,++r):(e=l||!f?!0:f.hasDomProp("width"),e&&(isNaN(i.width=h.measureOwnerWidth(n))||(n.setWidth(i.width,!1),i.gotWidth=!0,++r)))),k.shrinkWrap&&n.consumersContentHeight?(++c,y=!(d&2),w?y?(i.contentHeight=0,i.gotHeight=!0,++r):(i.contentHeight=n.getProp("contentHeight"))!==undefined&&(i.gotHeight=!0,++r):(u=a.contentHeight,typeof u=="number"?(i.contentHeight=u,i.gotHeight=!0,++r):(e=y?!0:n.hasDomProp("containerChildrenSizeDone")?b.noWrap?!0:p.shrinkWrap?l||!f||f.widthModel.shrinkWrap?!0:f.hasDomProp("width"):(n.bodyContext||n).hasDomProp("width"):!1,e&&(s=y?0:o&&o.measureContentHeight?o.measureContentHeight(n):h.measureContentHeight(n),isNaN(i.contentHeight=s)||(n.setContentHeight(s,!0),i.gotHeight=!0,++r))))):k.natural&&n.consumersHeight&&(++c,u=a.height,typeof u=="number"?(i.height=u,i.gotHeight=!0,++r):(e=l||!f?!0:f.hasDomProp("width"),e&&(isNaN(i.height=h.measureOwnerHeight(n))||(n.setHeight(i.height,!1),i.gotHeight=!0,++r)))),f&&n.onBoxMeasured(),i.gotAll=r==c,i},measureContentWidth:function(n){return n.el.getWidth()-n.getFrameInfo().width},measureContentHeight:function(n){return n.el.getHeight()-n.getFrameInfo().height},measureOwnerHeight:function(n){return n.el.getHeight()},measureOwnerWidth:function(n){return n.el.getWidth()}})