Ext.define("Ext.layout.Layout",{requires:["Ext.XTemplate","Ext.layout.SizeModel"],uses:["Ext.layout.Context"],isLayout:!0,initialized:!1,running:!1,autoSizePolicy:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},statics:{layoutsByType:{},create:function(n,t){var f=Ext.ClassManager,s=this.layoutsByType,e,o,u,i,r,h;if(n&&typeof n!="string"){if(n.isLayout)return n;u=n;r=n.type||t}else r=n||t,u={};if(!(i=s[r])){if(e="layout."+r,o=f.getNameByAlias(e),o||(h=!0),i=f.get(o),h||!i)return f.instantiateByAlias(e,u||{});s[r]=i}return new i(u)}},constructor:function(n){var t=this;t.id=Ext.id(null,t.type+"-");Ext.apply(t,n);t.layoutCount=0},beginLayout:Ext.emptyFn,beginLayoutCycle:function(n){var t=this,r=t.context,i;t.lastWidthModel!=n.widthModel&&(t.lastWidthModel&&(i=!0),t.lastWidthModel=n.widthModel);t.lastHeightModel!=n.heightModel&&(t.lastWidthModel&&(i=!0),t.lastHeightModel=n.heightModel);i&&((r=n.context).clearTriggers(t,!1),r.clearTriggers(t,!0),t.triggerCount=0)},finishedLayout:function(n){this.lastWidthModel=n.widthModel;this.lastHeightModel=n.heightModel;this.ownerContext=null},redoLayout:Ext.emptyFn,undoLayout:Ext.emptyFn,getAnimatePolicy:function(){return this.animatePolicy},getItemSizePolicy:function(){return this.autoSizePolicy},isItemBoxParent:function(){return!1},isItemLayoutRoot:function(n){var t=n.getSizeModel(),i=t.width,r=t.height;return!n.componentLayout.lastComponentSize&&(i.calculated||r.calculated)?!1:!i.shrinkWrap&&!r.shrinkWrap},isItemShrinkWrap:function(n){return n.shrinkWrap},isRunning:function(){return!!this.ownerContext},getItemsRenderTree:function(n,t){var e=n.length,u,i,r,f;if(e)for(f=[],u=0;u<e;++u)i=n[u],i.rendered||(t&&t[i.id]!==undefined?r=t[i.id]:(this.configureItem(i),r=i.getRenderTree(),t&&(t[i.id]=r)),r&&f.push(r));return f},finishRender:Ext.emptyFn,finishRenderItems:function(n,t){for(var u=t.length,r,i=0;i<u;i++)r=t[i],r.rendering&&(r.finishRender(i),this.afterRenderItem(r))},renderChildren:function(){var n=this,t=n.getLayoutItems(),i=n.getRenderTarget();n.renderItems(t,i)},renderItems:function(n,t){var u=this,f=n.length,r=0,i;if(f){for(Ext.suspendLayouts();r<f;r++)i=n[r],i&&!i.rendered?u.renderItem(i,t,r):u.isValidParent(i,t,r)?u.configureItem(i):u.moveItem(i,t,r);Ext.resumeLayouts(!0)}},isValidParent:function(n,t,i){var r=n.el?n.el.dom:Ext.getDom(n),u=t&&t.dom||t,e=r.parentNode,f;return(e&&(f=e.className,f&&f.indexOf(Ext.baseCSSPrefix+"resizable-wrap")!==-1&&(r=r.parentNode)),r&&u)?typeof i=="number"?(i=this.getPositionOffset(i),r===u.childNodes[i]):r.parentNode===u:!1},getPositionOffset:function(n){return n},configureItem:function(n){n.ownerLayout=this},renderItem:function(n,t,i){var r=this;n.rendered||(r.configureItem(n),n.render(t,i),r.afterRenderItem(n))},moveItem:function(n,t,i){t=t.dom||t;typeof i=="number"&&(i=t.childNodes[i]);t.insertBefore(n.el.dom,i||null);n.container=Ext.get(t);this.configureItem(n)},onContentChange:function(){return this.owner.updateLayout(),!0},initLayout:function(){this.initialized=!0},setOwner:function(n){this.owner=n},getLayoutItems:function(){return[]},onAdd:function(n){n.ownerLayout=this},afterRenderItem:Ext.emptyFn,onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(n){var i=this,u=n.el,r=i.owner,t;n.rendered&&(t=[].concat(i.itemCls||[]),r.itemCls&&(t=Ext.Array.push(t,r.itemCls)),t.length&&u.removeCls(t));delete n.ownerLayout},destroy:function(){var n=this,t;n.targetCls&&(t=n.getTarget(),t&&t.removeCls(n.targetCls));n.onDestroy()},sortWeightedItems:function(n,t){for(var i=0,r=n.length;i<r;++i)n[i].$i=i;for(Ext.Array.sort(n,function(n,i){var r=i.weight-n.weight;return r||(r=n.$i-i.$i,n[t]&&(r=-r)),r}),i=0;i<r;++i)delete n[i].$i}},function(){var n=this;n.prototype.sizeModels=n.sizeModels=Ext.layout.SizeModel.sizeModels})