Ext.define("Ext.panel.Panel",{extend:"Ext.panel.AbstractPanel",requires:["Ext.panel.Header","Ext.fx.Anim","Ext.util.KeyMap","Ext.panel.DD","Ext.XTemplate","Ext.layout.component.Dock","Ext.util.Memento"],alias:"widget.panel",alternateClassName:"Ext.Panel",collapsedCls:"collapsed",animCollapse:Ext.enableFx,minButtonWidth:75,collapsed:!1,collapseFirst:!0,hideCollapseTool:!1,titleCollapse:undefined,floatable:!0,collapsible:undefined,closable:!1,closeAction:"destroy",placeholderCollapseHideMode:Ext.Element.VISIBILITY,preventHeader:!1,header:undefined,headerPosition:"top",frame:!1,frameHeader:!0,manageHeight:!0,constrain:!1,constrainHeader:!1,initComponent:function(){var n=this;n.addEvents("beforeclose","close","beforeexpand","beforecollapse","expand","collapse","titlechange","iconchange","iconclschange","glyphchange","float","unfloat");n.collapsible&&this.addStateEvents(["expand","collapse"]);n.unstyled&&n.setUI("plain");n.frame&&n.setUI(n.ui+"-framed");n.bridgeToolbars();n.callParent();n.collapseDirection=n.collapseDirection||n.headerPosition||Ext.Component.DIRECTION_TOP;n.hiddenOnCollapse=new Ext.dom.CompositeElement},beforeDestroy:function(){var n=this;Ext.destroy(n.placeholder,n.ghostPanel,n.dd);n.callParent()},initAria:function(){this.callParent();this.initHeaderAria()},getFocusEl:function(){return this.el},initHeaderAria:function(){var n=this,t=n.el,i=n.header;t&&i&&t.dom.setAttribute("aria-labelledby",i.titleCmp.id)},getHeader:function(){return this.header},setTitle:function(n){var t=this,f=t.title,i=t.header,u=t.reExpander,r=t.placeholder;t.title=n;i?i.isHeader?i.setTitle(n):i.title=n:t.rendered&&t.updateHeader();u&&u.setTitle(n);r&&r.setTitle&&r.setTitle(n);t.fireEvent("titlechange",t,n,f)},setIconCls:function(n){var t=this,u=t.iconCls,i=t.header,r=t.placeholder;t.iconCls=n;i?i.isHeader?i.setIconCls(n):i.iconCls=n:t.updateHeader();r&&r.setIconCls&&r.setIconCls(n);t.fireEvent("iconclschange",t,n,u)},setIcon:function(n){var t=this,u=t.icon,i=t.header,r=t.placeholder;t.icon=n;i?i.isHeader?i.setIcon(n):i.icon=n:t.updateHeader();r&&r.setIcon&&r.setIcon(n);t.fireEvent("iconchange",t,n,u)},setGlyph:function(n){var t=this,u=t.glyph,i=t.header,r=t.placeholder;t.glyph=n;i?i.isHeader?i.setGlyph(n):i.glyph=n:t.updateHeader();r&&r.setGlyph&&r.setIcon(n);t.fireEvent("glyphchange",t,n,u)},bridgeToolbars:function(){function r(t,i,r){return Ext.isArray(t)?t={xtype:"toolbar",items:t}:t.xtype||(t.xtype="toolbar"),t.dock=i,(i=="left"||i=="right")&&(t.vertical=!0),r&&(t.layout=Ext.applyIf(t.layout||{},{pack:{left:"start",center:"center"}[n.buttonAlign]||"end"})),t}var n=this,t=[],i,u,f=n.minButtonWidth;n.tbar&&(t.push(r(n.tbar,"top")),n.tbar=null);n.bbar&&(t.push(r(n.bbar,"bottom")),n.bbar=null);n.buttons&&(n.fbar=n.buttons,n.buttons=null);n.fbar&&(i=r(n.fbar,"bottom",!0),i.ui="footer",f&&(u=i.defaults,i.defaults=function(n){var t=u||{};return n.xtype&&n.xtype!=="button"&&(!n.isComponent||!n.isXType("button"))||"minWidth"in t||(t=Ext.apply({minWidth:f},t)),t}),t.push(i),n.fbar=null);n.lbar&&(t.push(r(n.lbar,"left")),n.lbar=null);n.rbar&&(t.push(r(n.rbar,"right")),n.rbar=null);n.dockedItems?(Ext.isArray(n.dockedItems)||(n.dockedItems=[n.dockedItems]),n.dockedItems=n.dockedItems.concat(t)):n.dockedItems=t},isPlaceHolderCollapse:function(){return this.collapseMode=="placeholder"},onBoxReady:function(){this.callParent();this.collapsed&&this.setHiddenDocked()},beforeRender:function(){var n=this,t;n.callParent();n.initTools();n.preventHeader||n.header===!1||n.updateHeader();n.collapsed&&(n.isPlaceHolderCollapse()?n.hidden||(n.setHiddenState(!0),n.preventCollapseFire=!0,n.placeholderCollapse(),delete n.preventCollapseFire,t=n.collapsed,n.collapsed=!1):(n.beginCollapse(),n.addClsWithUI(n.collapsedCls)));t&&(n.collapsed=t)},initTools:function(){var n=this,i=n.tools,t,r;for(n.tools=[],t=i&&i.length;t;)--t,n.tools[t]=r=i[t],r.toolOwner=n;!n.collapsible||n.hideCollapseTool||n.header===!1||n.preventHeader||(n.collapseDirection=n.collapseDirection||n.headerPosition||"top",n.collapseTool=n.expandTool=Ext.widget({xtype:"tool",handler:n.toggleCollapse,scope:n}),n.updateCollapseTool(),n.collapseFirst&&n.tools.unshift(n.collapseTool));n.addTools();n.closable&&(n.addClsWithUI("closable"),n.addTool(Ext.widget({xtype:"tool",type:"close",handler:Ext.Function.bind(n.close,n,[])})));n.collapseTool&&!n.collapseFirst&&n.addTool(n.collapseTool)},addTools:Ext.emptyFn,updateCollapseTool:function(){var n=this,t=n.collapseTool;t&&(n.collapsed&&!n.isPlaceHolderCollapse()?t.setType("expand-"+n.getOppositeDirection(n.collapseDirection)):t.setType("collapse-"+n.collapseDirection))},close:function(){this.fireEvent("beforeclose",this)!==!1&&this.doClose()},doClose:function(){this.fireEvent("close",this);this[this.closeAction]()},updateHeader:function(n){var t=this,i=t.header,u=t.title,r=t.tools,f=t.icon||t.iconCls,e=t.headerPosition==="left"||t.headerPosition==="right";Ext.isObject(i)||i!==!1&&(n||u||f||r&&r.length||t.collapsible&&!t.titleCollapse)?(i&&i.isHeader?i.show():(i=t.header=Ext.widget(Ext.apply({xtype:"header",title:u,titleAlign:t.titleAlign,orientation:e?"vertical":"horizontal",dock:t.headerPosition||"top",textCls:t.headerTextCls,iconCls:t.iconCls,icon:t.icon,glyph:t.glyph,baseCls:t.baseCls+"-header",tools:r,ui:t.ui,id:t.id+"_header",overCls:t.headerOverCls,indicateDrag:t.draggable,frame:(t.frame||t.alwaysFramed)&&t.frameHeader,ignoreParentFrame:t.frame||t.overlapHeader,ignoreBorderManagement:t.frame||t.ignoreHeaderBorderManagement,ownerCt:t,listeners:t.collapsible&&t.titleCollapse?{click:t.toggleCollapse,scope:t}:null},t.header)),t.addDocked(i,0)),t.initHeaderAria()):i&&i.hide()},setUI:function(n){var t=this;t.callParent(arguments);t.header&&t.header.rendered&&t.header.setUI(n)},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){var n=this;return n.body||n.protoBody||n.frameBody||n.el},isVisible:function(n){var t=this;return t.collapsed&&t.placeholder?t.placeholder.isVisible(n):t.callParent(arguments)},onHide:function(){var n=this;n.collapsed&&n.placeholder?n.placeholder.hide():n.callParent(arguments)},onShow:function(){var n=this;n.collapsed&&n.isPlaceHolderCollapse()?(n.setHiddenState(!0),n.placeholderCollapse()):n.callParent(arguments)},onRemoved:function(n){var t=this;t.placeholder&&!n&&t.ownerCt.remove(t.placeholder,!1);t.callParent(arguments)},addTool:function(n){Ext.isArray(n)||(n=[n]);for(var t=this,u=t.header,f=n.length,r,i=0;i<f;i++)r=n[i],r.toolOwner=t,u&&u.isHeader?u.addTool(r):t.tools.push(r);t.updateHeader()},getOppositeDirection:function(n){var t=Ext.Component;switch(n){case t.DIRECTION_TOP:return t.DIRECTION_BOTTOM;case t.DIRECTION_RIGHT:return t.DIRECTION_LEFT;case t.DIRECTION_BOTTOM:return t.DIRECTION_TOP;case t.DIRECTION_LEFT:return t.DIRECTION_RIGHT}},getWidthAuthority:function(){return this.collapsed&&this.collapsedHorizontal()?1:this.callParent()},getHeightAuthority:function(){return this.collapsed&&this.collapsedVertical()?1:this.callParent()},collapsedHorizontal:function(){var n=this.getCollapsed();return n==="left"||n==="right"},collapsedVertical:function(){var n=this.getCollapsed();return n==="top"||n==="bottom"},restoreDimension:function(){var n=this.collapseDirection;return n==="top"||n==="bottom"?"height":"width"},getCollapsed:function(){var n=this;return n.collapsed===!0?n.collapseDirection:n.collapsed},getState:function(){var i=this,n=i.callParent(),t;return n=i.addPropertyToState(n,"collapsed"),i.collapsed&&(t=i.collapseMemento,t=t&&t.data,i.collapsedVertical()?(n&&delete n.height,t&&(n=i.addPropertyToState(n,"height",t.height))):(n&&delete n.width,t&&(n=i.addPropertyToState(n,"width",t.width)))),n},findReExpander:function(n){var f=this,r=Ext.Component,u=f.dockedItems.items,e=u.length,t,i;if(f.collapseMode!=="mini")switch(n){case r.DIRECTION_TOP:case r.DIRECTION_BOTTOM:for(i=0;i<e;i++)if(t=u[i],!t.hidden&&t.isHeader&&(!t.dock||t.dock==="top"||t.dock==="bottom"))return t;break;case r.DIRECTION_LEFT:case r.DIRECTION_RIGHT:for(i=0;i<e;i++)if(t=u[i],!t.hidden&&t.isHeader&&(t.dock==="left"||t.dock==="right"))return t;break;default:throw"Panel#findReExpander must be passed a valid collapseDirection";}},getReExpander:function(n){var t=this,i=n||t.collapseDirection,r=t.reExpander||t.findReExpander(i);return t.expandDirection=t.getOppositeDirection(i),r||(t.reExpander=r=t.createReExpander(i,{dock:i,cls:Ext.baseCSSPrefix+"docked "+t.baseCls+"-"+t.ui+"-collapsed",isCollapsedExpander:!0}),t.dockedItems.insert(0,r)),r},createReExpander:function(n,t){var i=this,u=n==="left",f=n==="right",e=u||f,r=Ext.apply({hideMode:"offsets",title:i.title||"&#160;",titleAlign:i.titleAlign,orientation:e?"vertical":"horizontal",textCls:i.headerTextCls,icon:i.icon,iconCls:i.iconCls,glyph:i.glyph,baseCls:i.self.prototype.baseCls+"-header",ui:i.ui,frame:i.frame&&i.frameHeader,ignoreParentFrame:i.frame||i.overlapHeader,indicateDrag:i.draggable,collapseImmune:!0,ownerCt:i.ownerCt,ownerLayout:i.componentLayout,margin:i.margin},t);return i.collapseMode==="mini"&&(e?r.width=1:r.height=1),i.hideCollapseTool||((u||f&&i.isPlaceHolderCollapse())&&(r.titlePosition=1),r.tools=[{xtype:"tool",type:"expand-"+i.getOppositeDirection(n),uiCls:["top"],handler:i.toggleCollapse,scope:i}]),r=new Ext.panel.Header(r),r.addClsWithUI(i.getHeaderCollapsedClasses(r)),r},getHeaderCollapsedClasses:function(n){var t=this,i=t.collapsedCls,r;return r=[i,i+"-"+n.getDockName()],t.border&&(!t.frame||t.frame&&Ext.supports.CSS3BorderRadius)&&r.push(i+"-border-"+n.getDockName()),r},beginCollapse:function(){var n=this,r=n.lastBox,u=n.rendered,f=n.collapseMemento||(n.collapseMemento=new Ext.util.Memento(n)),e=n.getSizeModel(),t=n.header,i;f.capture(["height","minHeight","width","minWidth"]);r&&f.capture(n.restoreDimension(),r,"last.");n.collapsedVertical()?(e.width.shrinkWrap&&(n.width=u?n.getWidth():n.width||n.minWidth||100),delete n.height,n.minHeight=0):n.collapsedHorizontal()&&(e.height.shrinkWrap&&(n.height=u?n.getHeight():n.height||n.minHeight||100),delete n.width,n.minWidth=0);n.ownerCt&&n.ownerCt.getLayout().beginCollapse(n);n.isPlaceHolderCollapse()||t===!1||(t===(i=n.getReExpander())?(t.collapseImmune=!0,t.getHierarchyState().collapseImmune=!0,t.addClsWithUI(n.getHeaderCollapsedClasses(t)),t.rendered&&t.updateFrame()):i.el&&(i.el.show(),i.hidden=!1));n.resizer&&n.resizer.disable()},beginExpand:function(){var n=this,u=n.lastBox,i=n.collapseMemento,f=this.restoreDimension(),t=n.header,r;i&&(i.restore(["minHeight","minWidth",f]),u&&i.restore(f,!0,u,"last."));n.ownerCt&&n.ownerCt.getLayout().beginExpand(n);n.isPlaceHolderCollapse()||t===!1||(t===(r=n.getReExpander())?(delete t.collapseImmune,delete t.getHierarchyState().collapseImmune,t.removeClsWithUI(n.getHeaderCollapsedClasses(t)),t.rendered&&(t.expanding=!0,t.updateFrame(),delete t.expanding)):(r.hidden=!0,r.el.hide()));n.resizer&&n.resizer.enable()},collapse:function(n,t){var i=this,r=n||i.collapseDirection,u=i.ownerCt;return i.isCollapsingOrExpanding?i:(arguments.length<2&&(t=i.animCollapse),i.collapsed||i.fireEvent("beforecollapse",i,n,t)===!1)?i:u&&i.isPlaceHolderCollapse()?i.placeholderCollapse(n,t):(i.collapsed=r,i.beginCollapse(),i.getHierarchyState().collapsed=!0,i.fireHierarchyEvent("collapse"),i.doCollapseExpand(1,t))},doCollapseExpand:function(n,t){var i=this,u=i.animCollapse,r=i.ownerLayout;if(i.animCollapse=t,i.isCollapsingOrExpanding=n,t&&i.addCls(Ext.baseCSSPrefix+"animating-size"),r&&!t)r.onContentChange(i);else i.updateLayout({isRoot:!0});return i.animCollapse=u,i},afterCollapse:function(n){var t=this,i=t.ownerLayout;if(t.isCollapsingOrExpanding=0,t.updateCollapseTool(),n&&t.removeCls(Ext.baseCSSPrefix+"animating-size"),i&&n)i.onContentChange(t);t.setHiddenDocked();t.fireEvent("collapse",t)},setHiddenDocked:function(){var n=this,i=n.hiddenOnCollapse,u=n.getDockedItems(),e=u.length,r=0,t,f;for(n.header!==!1&&(f=n.getReExpander()),i.add(n.body);r<e;r++)t=u[r],t&&t!==f&&t.el&&i.add(t.el);i.setStyle("visibility","hidden")},restoreHiddenDocked:function(){var n=this.hiddenOnCollapse;n.setStyle("visibility","");n.clear()},getPlaceholder:function(n){var t=this,r=n||t.collapseDirection,u=null,i=t.placeholder,f=t.floatable,e=t.titleCollapse;return i||((f||t.collapsible&&e)&&(u={click:{fn:!e&&f?t.floatCollapsedPanel:t.toggleCollapse,element:"el",scope:t}}),t.placeholder=i=Ext.widget(t.createReExpander(r,{id:t.id+"-placeholder",listeners:u}))),i.placeholderFor||(i.isComponent||(t.placeholder=i=t.lookupComponent(i)),Ext.applyIf(i,{margins:t.margins,placeholderFor:t}),i.addCls([Ext.baseCSSPrefix+"region-collapsed-placeholder",Ext.baseCSSPrefix+"region-collapsed-"+r+"-placeholder",t.collapsedCls])),i},placeholderCollapse:function(n,t){var i=this,u=i.ownerCt,f=n||i.collapseDirection,o=Ext.baseCSSPrefix+"border-region-slide-in",r=i.getPlaceholder(f),e;return i.isCollapsingOrExpanding=1,i.setHiddenState(!0),i.collapsed=f,r.rendered?(r.el.dom.parentNode!==i.el.dom.parentNode&&i.el.dom.parentNode.insertBefore(r.el.dom,i.el.dom),r.hidden=!1,r.el.show(),u.updateLayout()):u.insert(u.items.indexOf(i),r),i.rendered?(i.el.setVisibilityMode(i.placeholderCollapseHideMode),t?(i.el.addCls(o),r.el.hide(),e=i.convertCollapseDir(f),i.el.slideOut(e,{preserveScroll:!0,duration:Ext.Number.from(t,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){i.el.removeCls(o);r.el.show().setStyle("display","none").slideIn(e,{easing:"linear",duration:100,listeners:{afteranimate:function(){r.focus();i.isCollapsingOrExpanding=0;i.fireEvent("collapse",i)}}})}}})):(i.el.hide(),i.isCollapsingOrExpanding=0,i.fireEvent("collapse",i))):(i.isCollapsingOrExpanding=0,i.preventCollapseFire||i.fireEvent("collapse",i)),i},floatCollapsedPanel:function(){var n=this,i=n.placeholder,r=i.getSize(),t,u=Ext.baseCSSPrefix+"border-region-slide-in",o=n.collapsed,f=n.ownerCt||n,e;if(!n.isSliding){if(n.el.hasCls(u)){n.slideOutFloatedPanel();return}n.isSliding=!0;i.el.hide();i.hidden=!0;n.el.show();n.setHiddenState(!1);n.collapsed=!1;f.updateLayout();t=n.getBox(!1,!0);i.el.show();i.hidden=!1;n.el.hide();n.setHiddenState(!0);n.collapsed=o;f.updateLayout();n.slideOutTask=n.slideOutTask||new Ext.util.DelayedTask(n.slideOutFloatedPanel,n);i.el.on("mouseleave",n.onMouseLeaveFloated,n);n.el.on("mouseleave",n.onMouseLeaveFloated,n);i.el.on("mouseenter",n.onMouseEnterFloated,n);n.el.on("mouseenter",n.onMouseEnterFloated,n);n.el.addCls(u);n.floated=!0;n.collapseTool&&n.collapseTool.el.hide();switch(n.collapsed){case"top":n.setLocalXY(t.x,t.y+r.height-1);break;case"right":n.setLocalXY(t.x-r.width+1,t.y);break;case"bottom":n.setLocalXY(t.x,t.y-r.height+1);break;case"left":n.setLocalXY(t.x+r.width-1,t.y)}e=n.convertCollapseDir(n.collapsed);n.floatedFromCollapse=n.collapsed;n.collapsed=!1;n.setHiddenState(!1);n.el.slideIn(e,{preserveScroll:!0,duration:Ext.Number.from(n.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){n.isSliding=!1;n.fireEvent("float",n)}}})}},onMouseLeaveFloated:function(){this.slideOutTask.delay(500)},onMouseEnterFloated:function(){this.slideOutTask.cancel()},isLayoutRoot:function(){return this.floatedFromCollapse?!0:this.callParent()},slideOutFloatedPanel:function(){var n=this,i=this.el,t;n.isSliding||n.isDestroyed||(n.isSliding=!0,n.floated=!1,n.slideOutFloatedPanelBegin(),typeof n.collapsed=="string"&&(t=n.convertCollapseDir(n.collapsed)),i.slideOut(t,{preserveScroll:!0,duration:Ext.Number.from(n.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){n.slideOutFloatedPanelEnd();n.el.removeCls(Ext.baseCSSPrefix+"border-region-slide-in")}}}))},slideOutFloatedPanelBegin:function(){var n=this,t=n.placeholder.el,i=n.el;n.collapsed=n.floatedFromCollapse;n.setHiddenState(!0);n.floatedFromCollapse=null;t.un("mouseleave",n.onMouseLeaveFloated,n);i.un("mouseleave",n.onMouseLeaveFloated,n);t.un("mouseenter",n.onMouseEnterFloated,n);i.un("mouseenter",n.onMouseEnterFloated,n)},slideOutFloatedPanelEnd:function(){var n=this;n.collapseTool&&n.collapseTool.el.show();n.slideOutTask.cancel();n.isSliding=!1;n.fireEvent("unfloat",n)},expand:function(n){var t=this;return t.isCollapsingOrExpanding?t:(arguments.length||(n=t.animCollapse),!t.collapsed&&!t.floatedFromCollapse)?t:t.fireEvent("beforeexpand",t,n)===!1?t:(delete this.getHierarchyState().collapsed,t.isPlaceHolderCollapse())?t.placeholderExpand(n):(t.restoreHiddenDocked(),t.beginExpand(),t.collapsed=!1,t.doCollapseExpand(2,n))},placeholderExpand:function(n){var t=this,e=t.collapsed,r=Ext.baseCSSPrefix+"border-region-slide-in",u,i,f=t.ownerLayout?t.ownerLayout.centerRegion:null;return Ext.AbstractComponent.layoutSuspendCount&&(n=!1),t.floatedFromCollapse&&(i=t.getPosition(!0),t.slideOutFloatedPanelBegin(),t.slideOutFloatedPanelEnd(),t.floated=!1),n?(Ext.suspendLayouts(),t.placeholder.hide(),t.el.show(),t.collapsed=!1,t.setHiddenState(!1),f&&!i&&(f.hidden=!0),Ext.resumeLayouts(!0),f.hidden=!1,t.el.addCls(r),t.isCollapsingOrExpanding=2,i?(u=t.getXY(),t.setLocalXY(i[0],i[1]),t.setXY([u[0],u[1]],{duration:Ext.Number.from(n,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){t.el.removeCls(r);t.isCollapsingOrExpanding=0;t.fireEvent("expand",t)}}})):(t.el.hide(),t.placeholder.el.show(),t.placeholder.hidden=!1,t.setHiddenState(!1),t.el.slideIn(t.convertCollapseDir(e),{preserveScroll:!0,duration:Ext.Number.from(n,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){t.el.removeCls(r);t.placeholder.hide();t.updateLayout();t.isCollapsingOrExpanding=0;t.fireEvent("expand",t)}}}))):(t.floated=t.collapsed=!1,t.el.removeCls(r),Ext.suspendLayouts(),t.placeholder.hide(),t.show(),Ext.resumeLayouts(!0),t.fireEvent("expand",t)),t},afterExpand:function(n){var t=this,i=t.ownerLayout;if(t.isCollapsingOrExpanding=0,t.updateCollapseTool(),n&&t.removeCls(Ext.baseCSSPrefix+"animating-size"),i&&n)i.onContentChange(t);t.fireEvent("expand",t);t.fireHierarchyEvent("expand")},setBorder:function(n,t){if(!t){var i=this,r=i.header;n=n?n===!0?"1px":i.unitizeBox(n):0;r&&(r.isHeader?r.setBorder(n):r.border=n);i.rendered&&i.bodyBorder!==!1&&i.body.setStyle("border-width",n);i.updateLayout();i.border=n}},toggleCollapse:function(){return this.collapsed||this.floatedFromCollapse?this.expand():this.collapse()},getKeyMap:function(){return this.keyMap||(this.keyMap=new Ext.util.KeyMap(Ext.apply({target:this.el},this.keys)))},initDraggable:function(){this.simpleDrag?this.initSimpleDraggable():this.dd=new Ext.panel.DD(this,Ext.isBoolean(this.draggable)?null:this.draggable)},initSimpleDraggable:function(){var n=this,t,i;n.header||n.updateHeader(!0);n.header&&(t=Ext.applyIf({el:n.el,delegate:"#"+Ext.escapeId(n.header.id)},n.draggable),(n.constrain||n.constrainHeader)&&(t.constrain=n.constrain,t.constrainDelegate=n.constrainHeader,t.constrainTo=n.constrainTo||n.container),i=n.dd=new Ext.util.ComponentDragger(this,t),n.relayEvents(i,["dragstart","drag","dragend"]),n.maximized&&i.disable())},ghostTools:function(){var t=[],r=this.header,i=r?r.query("tool[hidden=false]"):[],n,u,f;if(i.length)for(n=0,u=i.length;n<u;n++)f=i[n],t.push({type:f.type});else t=[{type:"placeholder"}];return t},ghost:function(n){var t=this,i=t.ghostPanel,u=t.getBox(),r;return i?i.el.show():(i=new Ext.panel.Panel({renderTo:Ext.getBody(),floating:{shadow:!1},frame:t.frame&&!t.alwaysFramed,alwaysFramed:t.alwaysFramed,overlapHeader:t.overlapHeader,headerPosition:t.headerPosition,baseCls:t.baseCls,cls:t.baseCls+"-ghost "+(n||"")}),t.ghostPanel=i),t.ghostPanel.hidden=!1,i.floatParent=t.floatParent,t.floating?i.zIndexManager.assignZIndices():i.toFront(),t.preventHeader||t.header===!1||(r=i.header,r&&(r.suspendLayouts(),Ext.Array.forEach(r.query("tool"),r.remove,r),r.resumeLayouts()),i.addTool(t.ghostTools()),i.setTitle(t.title),t.iconCls?i.setIconCls(t.iconCls):t.icon?i.setIcon(t.icon):t.glyph&&i.setGlyph(t.glyph),i.header.addCls(Ext.baseCSSPrefix+"header-ghost")),i.setPagePosition(u.x,u.y),i.setSize(u.width,u.height),t.el.hide(),i},unghost:function(n,t){var i=this;i.ghostPanel&&(n!==!1&&(i.el.show(),t!==!1&&(i.setPagePosition(i.ghostPanel.getXY()),i.hideMode=="offsets"&&delete i.el.hideModeStyles),Ext.defer(i.focus,10,i)),i.ghostPanel.el.hide(),i.ghostPanel.hidden=!0)},beginDrag:function(){this.floatingDescendants&&this.floatingDescendants.hide()},endDrag:function(){this.floatingDescendants&&this.floatingDescendants.show()},initResizable:function(){this.callParent(arguments);this.collapsed&&this.resizer.disable()},convertCollapseDir:function(n){return n.substr(0,1)}},function(){this.prototype.animCollapse=Ext.enableFx})